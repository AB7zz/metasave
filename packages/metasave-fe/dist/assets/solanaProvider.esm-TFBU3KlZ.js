import{G as Hr,T as ca,U as fa,V as Ce,X as ua,Y as la,Z as or,$ as Yn,a0 as io,a1 as da,a2 as ha,a3 as ao,a4 as er,a5 as pa,a6 as ga,a7 as ya,a8 as xa,a9 as jt,aa as ba,ab as wa,ac as ma,ad as jo,ae as Gt,af as va,ag as Le,ah as Bs,ai as Ho,aj as co,ak as fo,al as _a,am as Sa,an as Is,b as ur,C as Bn,e as Fe,ao as uo,n as Rs,J as Ts,ap as Cs,a as $o,aq as ln,q as Ea,ar as On,as as Aa}from"./index-pF3uMl6W.js";var Zn={exports:{}},lo;function ka(){return lo||(lo=1,function(n){function e(r,s,o,a,f,u,y){try{var g=r[u](y),E=g.value}catch(C){o(C);return}g.done?s(E):Promise.resolve(E).then(a,f)}function t(r){return function(){var s=this,o=arguments;return new Promise(function(a,f){var u=r.apply(s,o);function y(E){e(u,a,f,y,g,"next",E)}function g(E){e(u,a,f,y,g,"throw",E)}y(void 0)})}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Zn)),Zn.exports}var Jn={exports:{}},Xn={exports:{}},ho;function dn(){return ho||(ho=1,function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Xn)),Xn.exports}var po;function Ba(){return po||(po=1,function(n){var e=dn().default;function t(){n.exports=t=function(){return s},n.exports.__esModule=!0,n.exports.default=n.exports;var r,s={},o=Object.prototype,a=o.hasOwnProperty,f=Object.defineProperty||function(S,B,P){S[B]=P.value},u=typeof Symbol=="function"?Symbol:{},y=u.iterator||"@@iterator",g=u.asyncIterator||"@@asyncIterator",E=u.toStringTag||"@@toStringTag";function C(S,B,P){return Object.defineProperty(S,B,{value:P,enumerable:!0,configurable:!0,writable:!0}),S[B]}try{C({},"")}catch{C=function(P,G,W){return P[G]=W}}function w(S,B,P,G){var W=B&&B.prototype instanceof N?B:N,$=Object.create(W.prototype),Z=new Dt(G||[]);return f($,"_invoke",{value:ft(S,P,Z)}),$}function _(S,B,P){try{return{type:"normal",arg:S.call(B,P)}}catch(G){return{type:"throw",arg:G}}}s.wrap=w;var k="suspendedStart",b="suspendedYield",F="executing",j="completed",T={};function N(){}function z(){}function L(){}var re={};C(re,y,function(){return this});var V=Object.getPrototypeOf,de=V&&V(V(ae([])));de&&de!==o&&a.call(de,y)&&(re=de);var De=L.prototype=N.prototype=Object.create(re);function Ye(S){["next","throw","return"].forEach(function(B){C(S,B,function(P){return this._invoke(B,P)})})}function at(S,B){function P(W,$,Z,he){var Ie=_(S[W],S,$);if(Ie.type!=="throw"){var Ve=Ie.arg,Ge=Ve.value;return Ge&&e(Ge)=="object"&&a.call(Ge,"__await")?B.resolve(Ge.__await).then(function(Qe){P("next",Qe,Z,he)},function(Qe){P("throw",Qe,Z,he)}):B.resolve(Ge).then(function(Qe){Ve.value=Qe,Z(Ve)},function(Qe){return P("throw",Qe,Z,he)})}he(Ie.arg)}var G;f(this,"_invoke",{value:function($,Z){function he(){return new B(function(Ie,Ve){P($,Z,Ie,Ve)})}return G=G?G.then(he,he):he()}})}function ft(S,B,P){var G=k;return function(W,$){if(G===F)throw new Error("Generator is already running");if(G===j){if(W==="throw")throw $;return{value:r,done:!0}}for(P.method=W,P.arg=$;;){var Z=P.delegate;if(Z){var he=Ot(Z,P);if(he){if(he===T)continue;return he}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(G===k)throw G=j,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);G=F;var Ie=_(S,B,P);if(Ie.type==="normal"){if(G=P.done?j:b,Ie.arg===T)continue;return{value:Ie.arg,done:P.done}}Ie.type==="throw"&&(G=j,P.method="throw",P.arg=Ie.arg)}}}function Ot(S,B){var P=B.method,G=S.iterator[P];if(G===r)return B.delegate=null,P==="throw"&&S.iterator.return&&(B.method="return",B.arg=r,Ot(S,B),B.method==="throw")||P!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+P+"' method")),T;var W=_(G,S.iterator,B.arg);if(W.type==="throw")return B.method="throw",B.arg=W.arg,B.delegate=null,T;var $=W.arg;return $?$.done?(B[S.resultName]=$.value,B.next=S.nextLoc,B.method!=="return"&&(B.method="next",B.arg=r),B.delegate=null,T):$:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,T)}function Bt(S){var B={tryLoc:S[0]};1 in S&&(B.catchLoc=S[1]),2 in S&&(B.finallyLoc=S[2],B.afterLoc=S[3]),this.tryEntries.push(B)}function ut(S){var B=S.completion||{};B.type="normal",delete B.arg,S.completion=B}function Dt(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(Bt,this),this.reset(!0)}function ae(S){if(S||S===""){var B=S[y];if(B)return B.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var P=-1,G=function W(){for(;++P<S.length;)if(a.call(S,P))return W.value=S[P],W.done=!1,W;return W.value=r,W.done=!0,W};return G.next=G}}throw new TypeError(e(S)+" is not iterable")}return z.prototype=L,f(De,"constructor",{value:L,configurable:!0}),f(L,"constructor",{value:z,configurable:!0}),z.displayName=C(L,E,"GeneratorFunction"),s.isGeneratorFunction=function(S){var B=typeof S=="function"&&S.constructor;return!!B&&(B===z||(B.displayName||B.name)==="GeneratorFunction")},s.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,L):(S.__proto__=L,C(S,E,"GeneratorFunction")),S.prototype=Object.create(De),S},s.awrap=function(S){return{__await:S}},Ye(at.prototype),C(at.prototype,g,function(){return this}),s.AsyncIterator=at,s.async=function(S,B,P,G,W){W===void 0&&(W=Promise);var $=new at(w(S,B,P,G),W);return s.isGeneratorFunction(B)?$:$.next().then(function(Z){return Z.done?Z.value:$.next()})},Ye(De),C(De,E,"Generator"),C(De,y,function(){return this}),C(De,"toString",function(){return"[object Generator]"}),s.keys=function(S){var B=Object(S),P=[];for(var G in B)P.push(G);return P.reverse(),function W(){for(;P.length;){var $=P.pop();if($ in B)return W.value=$,W.done=!1,W}return W.done=!0,W}},s.values=ae,Dt.prototype={constructor:Dt,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(ut),!B)for(var P in this)P.charAt(0)==="t"&&a.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=r)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var P=this;function G(Ve,Ge){return Z.type="throw",Z.arg=B,P.next=Ve,Ge&&(P.method="next",P.arg=r),!!Ge}for(var W=this.tryEntries.length-1;W>=0;--W){var $=this.tryEntries[W],Z=$.completion;if($.tryLoc==="root")return G("end");if($.tryLoc<=this.prev){var he=a.call($,"catchLoc"),Ie=a.call($,"finallyLoc");if(he&&Ie){if(this.prev<$.catchLoc)return G($.catchLoc,!0);if(this.prev<$.finallyLoc)return G($.finallyLoc)}else if(he){if(this.prev<$.catchLoc)return G($.catchLoc,!0)}else{if(!Ie)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return G($.finallyLoc)}}}},abrupt:function(B,P){for(var G=this.tryEntries.length-1;G>=0;--G){var W=this.tryEntries[G];if(W.tryLoc<=this.prev&&a.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var $=W;break}}$&&(B==="break"||B==="continue")&&$.tryLoc<=P&&P<=$.finallyLoc&&($=null);var Z=$?$.completion:{};return Z.type=B,Z.arg=P,$?(this.method="next",this.next=$.finallyLoc,T):this.complete(Z)},complete:function(B,P){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&P&&(this.next=P),T},finish:function(B){for(var P=this.tryEntries.length-1;P>=0;--P){var G=this.tryEntries[P];if(G.finallyLoc===B)return this.complete(G.completion,G.afterLoc),ut(G),T}},catch:function(B){for(var P=this.tryEntries.length-1;P>=0;--P){var G=this.tryEntries[P];if(G.tryLoc===B){var W=G.completion;if(W.type==="throw"){var $=W.arg;ut(G)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(B,P,G){return this.delegate={iterator:ae(B),resultName:P,nextLoc:G},this.method==="next"&&(this.arg=r),T}},s}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Jn)),Jn.exports}var Qn,go;function Ia(){if(go)return Qn;go=1;var n=Ba()();Qn=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}return Qn}function Ra(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),o=s.charCodeAt(0);if(e[o]!==255)throw new TypeError(s+" is ambiguous");e[o]=r}var a=n.length,f=n.charAt(0),u=Math.log(a)/Math.log(256),y=Math.log(256)/Math.log(a);function g(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var _=0,k=0,b=0,F=w.length;b!==F&&w[b]===0;)b++,_++;for(var j=(F-b)*y+1>>>0,T=new Uint8Array(j);b!==F;){for(var N=w[b],z=0,L=j-1;(N!==0||z<k)&&L!==-1;L--,z++)N+=256*T[L]>>>0,T[L]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");k=z,b++}for(var re=j-k;re!==j&&T[re]===0;)re++;for(var V=f.repeat(_);re<j;++re)V+=n.charAt(T[re]);return V}function E(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;for(var _=0,k=0,b=0;w[_]===f;)k++,_++;for(var F=(w.length-_)*u+1>>>0,j=new Uint8Array(F);w[_];){var T=e[w.charCodeAt(_)];if(T===255)return;for(var N=0,z=F-1;(T!==0||N<b)&&z!==-1;z--,N++)T+=a*j[z]>>>0,j[z]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");b=N,_++}for(var L=F-b;L!==F&&j[L]===0;)L++;for(var re=new Uint8Array(k+(F-L)),V=k;L!==F;)re[V++]=j[L++];return re}function C(w){var _=E(w);if(_)return _;throw new Error("Non-base"+a+" character")}return{encode:g,decodeUnsafe:E,decode:C}}var Ta=Ra;const Ca=Ta,Pa="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var La=Ca(Pa);const Ht=Hr(La),[Ua,Oa]=Ce.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),ir=new Uint32Array(80),ar=new Uint32Array(80);class Ma extends fa{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:o,Cl:a,Dh:f,Dl:u,Eh:y,El:g,Fh:E,Fl:C,Gh:w,Gl:_,Hh:k,Hl:b}=this;return[e,t,r,s,o,a,f,u,y,g,E,C,w,_,k,b]}set(e,t,r,s,o,a,f,u,y,g,E,C,w,_,k,b){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=a|0,this.Dh=f|0,this.Dl=u|0,this.Eh=y|0,this.El=g|0,this.Fh=E|0,this.Fl=C|0,this.Gh=w|0,this.Gl=_|0,this.Hh=k|0,this.Hl=b|0}process(e,t){for(let T=0;T<16;T++,t+=4)ir[T]=e.getUint32(t),ar[T]=e.getUint32(t+=4);for(let T=16;T<80;T++){const N=ir[T-15]|0,z=ar[T-15]|0,L=Ce.rotrSH(N,z,1)^Ce.rotrSH(N,z,8)^Ce.shrSH(N,z,7),re=Ce.rotrSL(N,z,1)^Ce.rotrSL(N,z,8)^Ce.shrSL(N,z,7),V=ir[T-2]|0,de=ar[T-2]|0,De=Ce.rotrSH(V,de,19)^Ce.rotrBH(V,de,61)^Ce.shrSH(V,de,6),Ye=Ce.rotrSL(V,de,19)^Ce.rotrBL(V,de,61)^Ce.shrSL(V,de,6),at=Ce.add4L(re,Ye,ar[T-7],ar[T-16]),ft=Ce.add4H(at,L,De,ir[T-7],ir[T-16]);ir[T]=ft|0,ar[T]=at|0}let{Ah:r,Al:s,Bh:o,Bl:a,Ch:f,Cl:u,Dh:y,Dl:g,Eh:E,El:C,Fh:w,Fl:_,Gh:k,Gl:b,Hh:F,Hl:j}=this;for(let T=0;T<80;T++){const N=Ce.rotrSH(E,C,14)^Ce.rotrSH(E,C,18)^Ce.rotrBH(E,C,41),z=Ce.rotrSL(E,C,14)^Ce.rotrSL(E,C,18)^Ce.rotrBL(E,C,41),L=E&w^~E&k,re=C&_^~C&b,V=Ce.add5L(j,z,re,Oa[T],ar[T]),de=Ce.add5H(V,F,N,L,Ua[T],ir[T]),De=V|0,Ye=Ce.rotrSH(r,s,28)^Ce.rotrBH(r,s,34)^Ce.rotrBH(r,s,39),at=Ce.rotrSL(r,s,28)^Ce.rotrBL(r,s,34)^Ce.rotrBL(r,s,39),ft=r&o^r&f^o&f,Ot=s&a^s&u^a&u;F=k|0,j=b|0,k=w|0,b=_|0,w=E|0,_=C|0,{h:E,l:C}=Ce.add(y|0,g|0,de|0,De|0),y=f|0,g=u|0,f=o|0,u=a|0,o=r|0,a=s|0;const Bt=Ce.add3L(De,at,Ot);r=Ce.add3H(Bt,de,Ye,ft),s=Bt|0}({h:r,l:s}=Ce.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:a}=Ce.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:f,l:u}=Ce.add(this.Ch|0,this.Cl|0,f|0,u|0),{h:y,l:g}=Ce.add(this.Dh|0,this.Dl|0,y|0,g|0),{h:E,l:C}=Ce.add(this.Eh|0,this.El|0,E|0,C|0),{h:w,l:_}=Ce.add(this.Fh|0,this.Fl|0,w|0,_|0),{h:k,l:b}=Ce.add(this.Gh|0,this.Gl|0,k|0,b|0),{h:F,l:j}=Ce.add(this.Hh|0,this.Hl|0,F|0,j|0),this.set(r,s,o,a,f,u,y,g,E,C,w,_,k,b,F,j)}roundClean(){ir.fill(0),ar.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Wo=ca(()=>new Ma);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qt=BigInt(0),Tt=BigInt(1),_n=BigInt(2),Na=BigInt(8),Fa={zip215:!0};function qa(n){const e=ua(n);return la(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Ps(n){const e=qa(n),{Fp:t,n:r,prehash:s,hash:o,randomBytes:a,nByteLength:f,h:u}=e,y=_n<<BigInt(f*8)-Tt,g=t.create,E=e.uvRatio||((ae,S)=>{try{return{isValid:!0,value:t.sqrt(ae*t.inv(S))}}catch{return{isValid:!1,value:qt}}}),C=e.adjustScalarBytes||(ae=>ae),w=e.domain||((ae,S,B)=>{if(S.length||B)throw new Error("Contexts/pre-hash are not supported");return ae}),_=ae=>typeof ae=="bigint"&&qt<ae,k=(ae,S)=>_(ae)&&_(S)&&ae<S,b=ae=>ae===qt||k(ae,y);function F(ae,S){if(k(ae,S))return ae;throw new Error(`Expected valid scalar < ${S}, got ${typeof ae} ${ae}`)}function j(ae){return ae===qt?ae:F(ae,r)}const T=new Map;function N(ae){if(!(ae instanceof z))throw new Error("ExtendedPoint expected")}class z{constructor(S,B,P,G){if(this.ex=S,this.ey=B,this.ez=P,this.et=G,!b(S))throw new Error("x required");if(!b(B))throw new Error("y required");if(!b(P))throw new Error("z required");if(!b(G))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof z)throw new Error("extended point not allowed");const{x:B,y:P}=S||{};if(!b(B)||!b(P))throw new Error("invalid affine point");return new z(B,P,Tt,g(B*P))}static normalizeZ(S){const B=t.invertBatch(S.map(P=>P.ez));return S.map((P,G)=>P.toAffine(B[G])).map(z.fromAffine)}_setWindowSize(S){this._WINDOW_SIZE=S,T.delete(this)}assertValidity(){const{a:S,d:B}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:P,ey:G,ez:W,et:$}=this,Z=g(P*P),he=g(G*G),Ie=g(W*W),Ve=g(Ie*Ie),Ge=g(Z*S),Qe=g(Ie*g(Ge+he)),lt=g(Ve+g(B*g(Z*he)));if(Qe!==lt)throw new Error("bad point: equation left != right (1)");const It=g(P*G),Mt=g(W*$);if(It!==Mt)throw new Error("bad point: equation left != right (2)")}equals(S){N(S);const{ex:B,ey:P,ez:G}=this,{ex:W,ey:$,ez:Z}=S,he=g(B*Z),Ie=g(W*G),Ve=g(P*Z),Ge=g($*G);return he===Ie&&Ve===Ge}is0(){return this.equals(z.ZERO)}negate(){return new z(g(-this.ex),this.ey,this.ez,g(-this.et))}double(){const{a:S}=e,{ex:B,ey:P,ez:G}=this,W=g(B*B),$=g(P*P),Z=g(_n*g(G*G)),he=g(S*W),Ie=B+P,Ve=g(g(Ie*Ie)-W-$),Ge=he+$,Qe=Ge-Z,lt=he-$,It=g(Ve*Qe),Mt=g(Ge*lt),Ar=g(Ve*lt),kr=g(Qe*Ge);return new z(It,Mt,kr,Ar)}add(S){N(S);const{a:B,d:P}=e,{ex:G,ey:W,ez:$,et:Z}=this,{ex:he,ey:Ie,ez:Ve,et:Ge}=S;if(B===BigInt(-1)){const pr=g((W-G)*(Ie+he)),Ir=g((W+G)*(Ie-he)),sr=g(Ir-pr);if(sr===qt)return this.double();const Rr=g($*_n*Ge),gr=g(Z*_n*Ve),Tr=gr+Rr,Cr=Ir+pr,Yr=gr-Rr,$n=g(Tr*sr),Zr=g(Cr*Yr),Jr=g(Tr*Yr),Pr=g(sr*Cr);return new z($n,Zr,Pr,Jr)}const Qe=g(G*he),lt=g(W*Ie),It=g(Z*P*Ge),Mt=g($*Ve),Ar=g((G+W)*(he+Ie)-Qe-lt),kr=Mt-It,bn=Mt+It,Vr=g(lt-B*Qe),wn=g(Ar*kr),Xt=g(bn*Vr),Br=g(Ar*Vr),mn=g(kr*bn);return new z(wn,Xt,mn,Br)}subtract(S){return this.add(S.negate())}wNAF(S){return V.wNAFCached(this,T,S,z.normalizeZ)}multiply(S){const{p:B,f:P}=this.wNAF(F(S,r));return z.normalizeZ([B,P])[0]}multiplyUnsafe(S){let B=j(S);return B===qt?re:this.equals(re)||B===Tt?this:this.equals(L)?this.wNAF(B).p:V.unsafeLadder(this,B)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return V.unsafeLadder(this,r).is0()}toAffine(S){const{ex:B,ey:P,ez:G}=this,W=this.is0();S==null&&(S=W?Na:t.inv(G));const $=g(B*S),Z=g(P*S),he=g(G*S);if(W)return{x:qt,y:Tt};if(he!==Tt)throw new Error("invZ was invalid");return{x:$,y:Z}}clearCofactor(){const{h:S}=e;return S===Tt?this:this.multiplyUnsafe(S)}static fromHex(S,B=!1){const{d:P,a:G}=e,W=t.BYTES;S=or("pointHex",S,W);const $=S.slice(),Z=S[W-1];$[W-1]=Z&-129;const he=Yn($);he===qt||(B?F(he,y):F(he,t.ORDER));const Ie=g(he*he),Ve=g(Ie-Tt),Ge=g(P*Ie-G);let{isValid:Qe,value:lt}=E(Ve,Ge);if(!Qe)throw new Error("Point.fromHex: invalid y coordinate");const It=(lt&Tt)===Tt,Mt=(Z&128)!==0;if(!B&&lt===qt&&Mt)throw new Error("Point.fromHex: x=0 and x_0=1");return Mt!==It&&(lt=g(-lt)),z.fromAffine({x:lt,y:he})}static fromPrivateKey(S){return Ye(S).point}toRawBytes(){const{x:S,y:B}=this.toAffine(),P=io(B,t.BYTES);return P[P.length-1]|=S&Tt?128:0,P}toHex(){return da(this.toRawBytes())}}z.BASE=new z(e.Gx,e.Gy,Tt,g(e.Gx*e.Gy)),z.ZERO=new z(qt,Tt,Tt,qt);const{BASE:L,ZERO:re}=z,V=ha(z,f*8);function de(ae){return er(ae,r)}function De(ae){return de(Yn(ae))}function Ye(ae){const S=f;ae=or("private key",ae,S);const B=or("hashed private key",o(ae),2*S),P=C(B.slice(0,S)),G=B.slice(S,2*S),W=De(P),$=L.multiply(W),Z=$.toRawBytes();return{head:P,prefix:G,scalar:W,point:$,pointBytes:Z}}function at(ae){return Ye(ae).pointBytes}function ft(ae=new Uint8Array,...S){const B=ao(...S);return De(o(w(B,or("context",ae),!!s)))}function Ot(ae,S,B={}){ae=or("message",ae),s&&(ae=s(ae));const{prefix:P,scalar:G,pointBytes:W}=Ye(S),$=ft(B.context,P,ae),Z=L.multiply($).toRawBytes(),he=ft(B.context,Z,W,ae),Ie=de($+he*G);j(Ie);const Ve=ao(Z,io(Ie,t.BYTES));return or("result",Ve,f*2)}const Bt=Fa;function ut(ae,S,B,P=Bt){const{context:G,zip215:W}=P,$=t.BYTES;ae=or("signature",ae,2*$),S=or("message",S),s&&(S=s(S));const Z=Yn(ae.slice($,2*$));let he,Ie,Ve;try{he=z.fromHex(B,W),Ie=z.fromHex(ae.slice(0,$),W),Ve=L.multiplyUnsafe(Z)}catch{return!1}if(!W&&he.isSmallOrder())return!1;const Ge=ft(G,Ie.toRawBytes(),he.toRawBytes(),S);return Ie.add(he.multiplyUnsafe(Ge)).subtract(Ve).clearCofactor().equals(z.ZERO)}return L._setWindowSize(8),{CURVE:e,getPublicKey:at,sign:Ot,verify:ut,ExtendedPoint:z,utils:{getExtendedPublicKey:Ye,randomPrivateKey:()=>a(t.BYTES),precompute(ae=8,S=z.BASE){return S._setWindowSize(ae),S.multiply(BigInt(3)),S}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ls=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),yo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ka=BigInt(1),vs=BigInt(2),za=BigInt(5),xo=BigInt(10),Da=BigInt(20),ja=BigInt(40),bo=BigInt(80);function Ha(n){const e=Ls,r=n*n%e*n%e,s=jt(r,vs,e)*r%e,o=jt(s,Ka,e)*n%e,a=jt(o,za,e)*o%e,f=jt(a,xo,e)*a%e,u=jt(f,Da,e)*f%e,y=jt(u,ja,e)*u%e,g=jt(y,bo,e)*y%e,E=jt(g,bo,e)*y%e,C=jt(E,xo,e)*a%e;return{pow_p_5_8:jt(C,vs,e)*n%e,b2:r}}function $a(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Wa(n,e){const t=Ls,r=er(e*e*e,t),s=er(r*r*e,t),o=Ha(n*s).pow_p_5_8;let a=er(n*r*o,t);const f=er(e*a*a,t),u=a,y=er(a*yo,t),g=f===n,E=f===er(-n,t),C=f===er(-n*yo,t);return g&&(a=u),(E||C)&&(a=y),xa(a,t)&&(a=er(-a,t)),{isValid:g||E,value:a}}const rr=pa(Ls,void 0,!0),Us={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:rr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Wo,randomBytes:ga,adjustScalarBytes:$a,uvRatio:Wa},hn=Ps(Us);function Go(n,e,t){if(e.length>255)throw new Error("Context is too big");return ba(wa("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...Us});({...Us});const Ga=(rr.ORDER+BigInt(3))/BigInt(8);rr.pow(vs,Ga);rr.sqrt(rr.neg(rr.ONE));(rr.ORDER-BigInt(5))/BigInt(8);BigInt(486662);ya(rr,rr.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Sn=ma.Buffer;function Va(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),o=s.charCodeAt(0);if(e[o]!==255)throw new TypeError(s+" is ambiguous");e[o]=r}var a=n.length,f=n.charAt(0),u=Math.log(a)/Math.log(256),y=Math.log(256)/Math.log(a);function g(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=Sn.from(w)),!Sn.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var _=0,k=0,b=0,F=w.length;b!==F&&w[b]===0;)b++,_++;for(var j=(F-b)*y+1>>>0,T=new Uint8Array(j);b!==F;){for(var N=w[b],z=0,L=j-1;(N!==0||z<k)&&L!==-1;L--,z++)N+=256*T[L]>>>0,T[L]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");k=z,b++}for(var re=j-k;re!==j&&T[re]===0;)re++;for(var V=f.repeat(_);re<j;++re)V+=n.charAt(T[re]);return V}function E(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return Sn.alloc(0);for(var _=0,k=0,b=0;w[_]===f;)k++,_++;for(var F=(w.length-_)*u+1>>>0,j=new Uint8Array(F);w[_];){var T=e[w.charCodeAt(_)];if(T===255)return;for(var N=0,z=F-1;(T!==0||N<b)&&z!==-1;z--,N++)T+=a*j[z]>>>0,j[z]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");b=N,_++}for(var L=F-b;L!==F&&j[L]===0;)L++;var re=Sn.allocUnsafe(k+(F-L));re.fill(0,0,k);for(var V=k;L!==F;)re[V++]=j[L++];return re}function C(w){var _=E(w);if(_)return _;throw new Error("Non-base"+a+" character")}return{encode:g,decodeUnsafe:E,decode:C}}var Ya=Va,Za=Ya,Ja="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Vo=Za(Ja);const gt=Hr(Vo);var pt={};function tr(n,e,t){return e<=n&&n<=t}function Mn(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Xa(n){for(var e=String(n),t=e.length,r=0,s=[];r<t;){var o=e.charCodeAt(r);if(o<55296||o>57343)s.push(o);else if(56320<=o&&o<=57343)s.push(65533);else if(55296<=o&&o<=56319)if(r===t-1)s.push(65533);else{var a=n.charCodeAt(r+1);if(56320<=a&&a<=57343){var f=o&1023,u=a&1023;s.push(65536+(f<<10)+u),r+=1}else s.push(65533)}r+=1}return s}function Qa(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var In=-1;function Os(n){this.tokens=[].slice.call(n)}Os.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():In},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var zr=-1;function es(n,e){if(n)throw TypeError("Decoder error");return e||65533}var Rn="utf-8";function Tn(n,e){if(!(this instanceof Tn))return new Tn(n,e);if(n=n!==void 0?String(n).toLowerCase():Rn,n!==Rn)throw new Error("Encoding not supported. Only utf-8 is supported");e=Mn(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Tn.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=Mn(t),this._streaming||(this._decoder=new ec({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new Os(r),o=[],a;!s.endOfStream()&&(a=this._decoder.handler(s,s.read()),a!==zr);)a!==null&&(Array.isArray(a)?o.push.apply(o,a):o.push(a));if(!this._streaming){do{if(a=this._decoder.handler(s,s.read()),a===zr)break;a!==null&&(Array.isArray(a)?o.push.apply(o,a):o.push(a))}while(!s.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Qa(o)}};function Cn(n,e){if(!(this instanceof Cn))return new Cn(n,e);if(n=n!==void 0?String(n).toLowerCase():Rn,n!==Rn)throw new Error("Encoding not supported. Only utf-8 is supported");e=Mn(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Cn.prototype={encode:function(e,t){e=e?String(e):"",t=Mn(t),this._streaming||(this._encoder=new tc(this._options)),this._streaming=!!t.stream;for(var r=[],s=new Os(Xa(e)),o;!s.endOfStream()&&(o=this._encoder.handler(s,s.read()),o!==zr);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(s,s.read()),o!==zr;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function ec(n){var e=n.fatal,t=0,r=0,s=0,o=128,a=191;this.handler=function(f,u){if(u===In&&s!==0)return s=0,es(e);if(u===In)return zr;if(s===0){if(tr(u,0,127))return u;if(tr(u,194,223))s=1,t=u-192;else if(tr(u,224,239))u===224&&(o=160),u===237&&(a=159),s=2,t=u-224;else if(tr(u,240,244))u===240&&(o=144),u===244&&(a=143),s=3,t=u-240;else return es(e);return t=t<<6*s,null}if(!tr(u,o,a))return t=s=r=0,o=128,a=191,f.prepend(u),es(e);if(o=128,a=191,r+=1,t+=u-128<<6*(s-r),r!==s)return null;var y=t;return t=s=r=0,y}}function tc(n){n.fatal,this.handler=function(e,t){if(t===In)return zr;if(tr(t,0,127))return t;var r,s;tr(t,128,2047)?(r=1,s=192):tr(t,2048,65535)?(r=2,s=224):tr(t,65536,1114111)&&(r=3,s=240);for(var o=[(t>>6*r)+s];r>0;){var a=t>>6*(r-1);o.push(128|a&63),r-=1}return o}}const rc=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Tn,TextEncoder:Cn},Symbol.toStringTag,{value:"Module"})),nc=jo(rc);var sc=Gt&&Gt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),oc=Gt&&Gt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Yt=Gt&&Gt.__decorate||function(n,e,t,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var f=n.length-1;f>=0;f--)(a=n[f])&&(o=(s<3?a(o):s>3?a(e,t,o):a(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ic=Gt&&Gt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&sc(e,n,t);return oc(e,n),e},Yo=Gt&&Gt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pt,"__esModule",{value:!0});var Zo=pt.deserializeUnchecked=ri=pt.deserialize=ti=pt.serialize=pt.BinaryReader=pt.BinaryWriter=pt.BorshError=pt.baseDecode=pt.baseEncode=void 0;const lr=Yo(va),Jo=Yo(Vo),ac=ic(nc),cc=typeof TextDecoder!="function"?ac.TextDecoder:TextDecoder,fc=new cc("utf-8",{fatal:!0});function uc(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),Jo.default.encode(Buffer.from(n))}pt.baseEncode=uc;function lc(n){return Buffer.from(Jo.default.decode(n))}pt.baseDecode=lc;const ts=1024;class Et extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}pt.BorshError=Et;class Xo{constructor(){this.buf=Buffer.alloc(ts),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(ts)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new lr.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new lr.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new lr.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new lr.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(ts)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}pt.BinaryWriter=Xo;function Zt(n,e,t){const r=t.value;t.value=function(...s){try{return r.apply(this,s)}catch(o){if(o instanceof RangeError){const a=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new Et("Reached the end of buffer when deserializing")}throw o}}}class Ut{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new lr.default(e,"le")}readU128(){const e=this.readBuffer(16);return new lr.default(e,"le")}readU256(){const e=this.readBuffer(32);return new lr.default(e,"le")}readU512(){const e=this.readBuffer(64);return new lr.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Et(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return fc.decode(t)}catch(r){throw new Et(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let s=0;s<t;++s)r.push(e());return r}}Yt([Zt],Ut.prototype,"readU8",null);Yt([Zt],Ut.prototype,"readU16",null);Yt([Zt],Ut.prototype,"readU32",null);Yt([Zt],Ut.prototype,"readU64",null);Yt([Zt],Ut.prototype,"readU128",null);Yt([Zt],Ut.prototype,"readU256",null);Yt([Zt],Ut.prototype,"readU512",null);Yt([Zt],Ut.prototype,"readString",null);Yt([Zt],Ut.prototype,"readFixedArray",null);Yt([Zt],Ut.prototype,"readArray",null);pt.BinaryReader=Ut;function Qo(n){return n.charAt(0).toUpperCase()+n.slice(1)}function br(n,e,t,r,s){try{if(typeof r=="string")s[`write${Qo(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new Et(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);s.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new Et(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let o=0;o<r[1];o++)br(n,null,t[o],r[0],s)}else s.writeArray(t,o=>{br(n,e,o,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?s.writeU8(0):(s.writeU8(1),br(n,e,t,r.type,s));break}case"map":{s.writeU32(t.size),t.forEach((o,a)=>{br(n,e,a,r.key,s),br(n,e,o,r.value,s)});break}default:throw new Et(`FieldType ${r} unrecognized`)}else ei(n,t,s)}catch(o){throw o instanceof Et&&o.addToFieldPath(e),o}}function ei(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new Et(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,o])=>{br(n,s,e[s],o,t)});else if(r.kind==="enum"){const s=e[r.field];for(let o=0;o<r.values.length;++o){const[a,f]=r.values[o];if(a===s){t.writeU8(o),br(n,a,e[a],f,t);break}}}else throw new Et(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function dc(n,e,t=Xo){const r=new t;return ei(n,e,r),r.toArray()}var ti=pt.serialize=dc;function wr(n,e,t,r){try{if(typeof t=="string")return r[`read${Qo(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const s=[];for(let o=0;o<t[1];o++)s.push(wr(n,null,t[0],r));return s}else return r.readArray(()=>wr(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?wr(n,e,t.type,r):void 0;if(t.kind==="map"){let s=new Map;const o=r.readU32();for(let a=0;a<o;a++){const f=wr(n,e,t.key,r),u=wr(n,e,t.value,r);s.set(f,u)}return s}return Ms(n,t,r)}catch(s){throw s instanceof Et&&s.addToFieldPath(e),s}}function Ms(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new Et(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[o,a]of n.get(e).fields)s[o]=wr(n,o,a,t);return new e(s)}if(r.kind==="enum"){const s=t.readU8();if(s>=r.values.length)throw new Et(`Enum index: ${s} is out of range`);const[o,a]=r.values[s],f=wr(n,o,a,t);return new e({[o]:f})}throw new Et(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function hc(n,e,t,r=Ut){const s=new r(t),o=Ms(n,e,s);if(s.offset<t.length)throw new Et(`Unexpected ${t.length-s.offset} bytes after deserialized data`);return o}var ri=pt.deserialize=hc;function pc(n,e,t,r=Ut){const s=new r(t);return Ms(n,e,s)}Zo=pt.deserializeUnchecked=pc;var A={};Object.defineProperty(A,"__esModule",{value:!0});A.s16=A.s8=A.nu64be=A.u48be=A.u40be=A.u32be=A.u24be=A.u16be=ht=A.nu64=A.u48=A.u40=ye=A.u32=A.u24=Nt=A.u16=He=A.u8=mr=A.offset=A.greedy=A.Constant=A.UTF8=A.CString=A.Blob=A.Boolean=A.BitField=A.BitStructure=A.VariantLayout=A.Union=A.UnionLayoutDiscriminator=A.UnionDiscriminator=A.Structure=A.Sequence=A.DoubleBE=A.Double=A.FloatBE=A.Float=A.NearInt64BE=A.NearInt64=A.NearUInt64BE=A.NearUInt64=A.IntBE=A.Int=A.UIntBE=A.UInt=A.OffsetLayout=A.GreedyCount=A.ExternalLayout=A.bindConstructorLayout=A.nameWithProperty=A.Layout=A.uint8ArrayToBuffer=A.checkUint8Array=void 0;A.constant=A.utf8=A.cstr=Ze=A.blob=A.unionLayoutDiscriminator=A.union=St=A.seq=A.bits=ue=A.struct=A.f64be=A.f64=A.f32be=A.f32=A.ns64be=A.s48be=A.s40be=A.s32be=A.s24be=A.s16be=Ct=A.ns64=A.s48=A.s40=A.s32=A.s24=void 0;const Ns=Le;function $r(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}A.checkUint8Array=$r;function je(n){return $r(n),Ns.Buffer.from(n.buffer,n.byteOffset,n.length)}A.uint8ArrayToBuffer=je;class We{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}A.Layout=We;function Fs(n,e){return e.property?n+"["+e.property+"]":n}A.nameWithProperty=Fs;function gc(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof We))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}A.bindConstructorLayout=gc;class At extends We{isCount(){throw new Error("ExternalLayout is abstract")}}A.ExternalLayout=At;class ni extends At{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){$r(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}A.GreedyCount=ni;class qs extends At{constructor(e,t=0,r){if(!(e instanceof We))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Ft||this.layout instanceof Kt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}A.OffsetLayout=qs;class Ft extends We{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return je(e).readUIntLE(t,this.span)}encode(e,t,r=0){return je(t).writeUIntLE(e,r,this.span),this.span}}A.UInt=Ft;class Kt extends We{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return je(e).readUIntBE(t,this.span)}encode(e,t,r=0){return je(t).writeUIntBE(e,r,this.span),this.span}}A.UIntBE=Kt;class vr extends We{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return je(e).readIntLE(t,this.span)}encode(e,t,r=0){return je(t).writeIntLE(e,r,this.span),this.span}}A.Int=vr;class Wr extends We{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return je(e).readIntBE(t,this.span)}encode(e,t,r=0){return je(t).writeIntBE(e,r,this.span),this.span}}A.IntBE=Wr;const _s=Math.pow(2,32);function Nn(n){const e=Math.floor(n/_s),t=n-e*_s;return{hi32:e,lo32:t}}function Fn(n,e){return n*_s+e}class si extends We{constructor(e){super(8,e)}decode(e,t=0){const r=je(e),s=r.readUInt32LE(t),o=r.readUInt32LE(t+4);return Fn(o,s)}encode(e,t,r=0){const s=Nn(e),o=je(t);return o.writeUInt32LE(s.lo32,r),o.writeUInt32LE(s.hi32,r+4),8}}A.NearUInt64=si;class oi extends We{constructor(e){super(8,e)}decode(e,t=0){const r=je(e),s=r.readUInt32BE(t),o=r.readUInt32BE(t+4);return Fn(s,o)}encode(e,t,r=0){const s=Nn(e),o=je(t);return o.writeUInt32BE(s.hi32,r),o.writeUInt32BE(s.lo32,r+4),8}}A.NearUInt64BE=oi;class ii extends We{constructor(e){super(8,e)}decode(e,t=0){const r=je(e),s=r.readUInt32LE(t),o=r.readInt32LE(t+4);return Fn(o,s)}encode(e,t,r=0){const s=Nn(e),o=je(t);return o.writeUInt32LE(s.lo32,r),o.writeInt32LE(s.hi32,r+4),8}}A.NearInt64=ii;class ai extends We{constructor(e){super(8,e)}decode(e,t=0){const r=je(e),s=r.readInt32BE(t),o=r.readUInt32BE(t+4);return Fn(s,o)}encode(e,t,r=0){const s=Nn(e),o=je(t);return o.writeInt32BE(s.hi32,r),o.writeUInt32BE(s.lo32,r+4),8}}A.NearInt64BE=ai;class ci extends We{constructor(e){super(4,e)}decode(e,t=0){return je(e).readFloatLE(t)}encode(e,t,r=0){return je(t).writeFloatLE(e,r),4}}A.Float=ci;class fi extends We{constructor(e){super(4,e)}decode(e,t=0){return je(e).readFloatBE(t)}encode(e,t,r=0){return je(t).writeFloatBE(e,r),4}}A.FloatBE=fi;class ui extends We{constructor(e){super(8,e)}decode(e,t=0){return je(e).readDoubleLE(t)}encode(e,t,r=0){return je(t).writeDoubleLE(e,r),8}}A.Double=ui;class li extends We{constructor(e){super(8,e)}decode(e,t=0){return je(e).readDoubleBE(t)}encode(e,t,r=0){return je(t).writeDoubleBE(e,r),8}}A.DoubleBE=li;class di extends We{constructor(e,t,r){if(!(e instanceof We))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof At&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(t instanceof At)&&0<e.span&&(s=t*e.span),super(s,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof At&&(s=s.decode(e,t)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let o=0;for(;o<s;)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e,t=0){const r=[];let s=0,o=this.count;for(o instanceof At&&(o=o.decode(e,t));s<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),s+=1;return r}encode(e,t,r=0){const s=this.elementLayout,o=e.reduce((a,f)=>a+s.encode(f,t,r+a),0);return this.count instanceof At&&this.count.encode(e.length,t,r),o}}A.Sequence=di;class hi extends We{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((o,a)=>o&&a instanceof We,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((o,a)=>o+a.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,o)=>{const a=o.getSpan(e,t);return t+=a,s+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){$r(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const s=r;let o=0,a=0;for(const f of this.fields){let u=f.span;if(a=0<u?u:0,f.property!==void 0){const y=e[f.property];y!==void 0&&(a=f.encode(y,t,r),0>u&&(u=f.getSpan(t,r)))}o=r,r+=u}return o+a-s}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}A.Structure=hi;class Ks{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}A.UnionDiscriminator=Ks;class Pn extends Ks{constructor(e,t){if(!(e instanceof At&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}A.UnionLayoutDiscriminator=Pn;class zs extends We{constructor(e,t,r){let s;if(e instanceof Ft||e instanceof Kt)s=new Pn(new qs(e));else if(e instanceof At&&e.isCount())s=new Pn(e);else if(e instanceof Ks)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof We))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof Ft||e instanceof Kt)&&(o+=s.layout.span)),super(o,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Ft||e instanceof Kt,this.defaultLayout=t,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return a(f)},this.configGetSourceVariant=function(f){a=f.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const s=this.discriminator,o=s.decode(e,t),a=this.registry[o];if(a===void 0){const f=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=s.layout.span),r=this.makeDestinationObject(),r[s.property]=o,r[f.property]=f.decode(e,t+u)}else r=a.decode(e,t);return r}encode(e,t,r=0){const s=this.getSourceVariant(e);if(s===void 0){const o=this.discriminator,a=this.defaultLayout;let f=0;return this.usesPrefixDiscriminator&&(f=o.layout.span),o.encode(e[o.property],t,r),f+a.encode(e[a.property],t,r+f)}return s.encode(e,t,r)}addVariant(e,t,r){const s=new pi(this,e,t,r);return this.registry[e]=s,s}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}}A.Union=zs;class pi extends We{constructor(e,t,r,s){if(!(e instanceof zs))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof We))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,s),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,t+r)),r+s}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=s;if(this.layout&&(this.layout.encode(e[this.property],t,r+s),o+=this.layout.getSpan(t,r+s),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}A.VariantLayout=pi;function Mr(n){return 0>n&&(n+=4294967296),n}class Ds extends We{constructor(e,t,r){if(!(e instanceof Ft||e instanceof Kt))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let s=0;this._packedSetValue=function(o){return s=Mr(o),this},this._packedGetValue=function(){return s}}decode(e,t=0){const r=this.makeDestinationObject(),s=this.word.decode(e,t);this._packedSetValue(s);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,t,r=0){const s=this.word.decode(t,r);this._packedSetValue(s);for(const o of this.fields)if(o.property!==void 0){const a=e[o.property];a!==void 0&&o.encode(a)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new js(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new gi(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}A.BitStructure=Ds;class js{constructor(e,t,r){if(!(e instanceof Ds))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const s=8*e.span,o=e.fields.reduce((a,f)=>a+f.bits,0);if(t+o>s)throw new Error("bits too long for span remainder ("+(s-o)+" of "+s+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=s-o-t),this.wordMask=Mr(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue();return Mr(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Mr(e&this.valueMask))throw new TypeError(Fs("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=Mr(e<<this.start);this.container._packedSetValue(Mr(t&~this.wordMask)|r)}}A.BitField=js;let gi=class extends js{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};A.Boolean=gi;class yi extends We{constructor(e,t){if(!(e instanceof At&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof At||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),je(e).slice(t,t+r)}encode(e,t,r){let s=this.length;if(this.length instanceof At&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(Fs("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>t.length)throw new RangeError("encoding overruns Uint8Array");const o=je(e);return je(t).write(o.toString("hex"),r,s,"hex"),this.length instanceof At&&this.length.encode(s,t,r),s}}A.Blob=yi;class xi extends We{constructor(e){super(-1,e)}getSpan(e,t=0){$r(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return je(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const s=Ns.Buffer.from(e,"utf8"),o=s.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");const a=je(t);return s.copy(a,r),a[r+o]=0,o+1}}A.CString=xi;class bi extends We{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return $r(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return je(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const s=Ns.Buffer.from(e,"utf8"),o=s.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return s.copy(je(t),r),o}}A.UTF8=bi;class wi extends We{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}A.Constant=wi;A.greedy=(n,e)=>new ni(n,e);var mr=A.offset=(n,e,t)=>new qs(n,e,t),He=A.u8=n=>new Ft(1,n),Nt=A.u16=n=>new Ft(2,n);A.u24=n=>new Ft(3,n);var ye=A.u32=n=>new Ft(4,n);A.u40=n=>new Ft(5,n);A.u48=n=>new Ft(6,n);var ht=A.nu64=n=>new si(n);A.u16be=n=>new Kt(2,n);A.u24be=n=>new Kt(3,n);A.u32be=n=>new Kt(4,n);A.u40be=n=>new Kt(5,n);A.u48be=n=>new Kt(6,n);A.nu64be=n=>new oi(n);A.s8=n=>new vr(1,n);A.s16=n=>new vr(2,n);A.s24=n=>new vr(3,n);A.s32=n=>new vr(4,n);A.s40=n=>new vr(5,n);A.s48=n=>new vr(6,n);var Ct=A.ns64=n=>new ii(n);A.s16be=n=>new Wr(2,n);A.s24be=n=>new Wr(3,n);A.s32be=n=>new Wr(4,n);A.s40be=n=>new Wr(5,n);A.s48be=n=>new Wr(6,n);A.ns64be=n=>new ai(n);A.f32=n=>new ci(n);A.f32be=n=>new fi(n);A.f64=n=>new ui(n);A.f64be=n=>new li(n);var ue=A.struct=(n,e,t)=>new hi(n,e,t);A.bits=(n,e,t)=>new Ds(n,e,t);var St=A.seq=(n,e,t)=>new di(n,e,t);A.union=(n,e,t)=>new zs(n,e,t);A.unionLayoutDiscriminator=(n,e)=>new Pn(n,e);var Ze=A.blob=(n,e)=>new yi(n,e);A.cstr=n=>new xi(n);A.utf8=(n,e)=>new bi(n,e);A.constant=(n,e)=>new wi(n,e);var pn={};Object.defineProperty(pn,"__esModule",{value:!0});function yc(n){{const e=Buffer.from(n);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var xc=pn.toBigIntLE=yc;function bc(n){{const e=n.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}pn.toBigIntBE=bc;function wc(n,e){{const t=n.toString(16),r=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var mc=pn.toBufferLE=wc;function vc(n,e){{const t=n.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}pn.toBufferBE=vc;class _c extends TypeError{constructor(e,t){let r;const{message:s,...o}=e,{path:a}=e,f=a.length===0?s:"At path: "+a.join(".")+" -- "+s;super(f),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var u;return(u=r)!=null?u:r=[e,...t()]}}}function Sc(n){return hr(n)&&typeof n[Symbol.iterator]=="function"}function hr(n){return typeof n=="object"&&n!=null}function zt(n){return typeof n=="string"?JSON.stringify(n):""+n}function Ec(n){const{done:e,value:t}=n.next();return e?void 0:t}function Ac(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:o}=e,{type:a}=t,{refinement:f,message:u="Expected a value of type `"+a+"`"+(f?" with refinement `"+f+"`":"")+", but received: `"+zt(r)+"`"}=n;return{value:r,type:a,refinement:f,key:s[s.length-1],path:s,branch:o,...n,message:u}}function*wo(n,e,t,r){Sc(n)||(n=[n]);for(const s of n){const o=Ac(s,e,t,r);o&&(yield o)}}function*Hs(n,e,t={}){const{path:r=[],branch:s=[n],coerce:o=!1,mask:a=!1}=t,f={path:r,branch:s};if(o&&(n=e.coercer(n,f),a&&e.type!=="type"&&hr(e.schema)&&hr(n)&&!Array.isArray(n)))for(const y in n)e.schema[y]===void 0&&delete n[y];let u=!0;for(const y of e.validator(n,f))u=!1,yield[y,void 0];for(let[y,g,E]of e.entries(n,f)){const C=Hs(g,E,{path:y===void 0?r:[...r,y],branch:y===void 0?s:[...s,g],coerce:o,mask:a});for(const w of C)w[0]?(u=!1,yield[w[0],void 0]):o&&(g=w[1],y===void 0?n=g:n instanceof Map?n.set(y,g):n instanceof Set?n.add(g):hr(n)&&(n[y]=g))}if(u)for(const y of e.refiner(n,f))u=!1,yield[y,void 0];u&&(yield[void 0,n])}let Jt=class{constructor(e){const{type:t,schema:r,validator:s,refiner:o,coercer:a=u=>u,entries:f=function*(){}}=e;this.type=t,this.schema=r,this.entries=f,this.coercer=a,s?this.validator=(u,y)=>{const g=s(u,y);return wo(g,y,this,u)}:this.validator=()=>[],o?this.refiner=(u,y)=>{const g=o(u,y);return wo(g,y,this,u)}:this.refiner=()=>[]}assert(e){return kc(e,this)}create(e){return J(e,this)}is(e){return mi(e,this)}mask(e){return Bc(e,this)}validate(e,t={}){return gn(e,this,t)}};function kc(n,e){const t=gn(n,e);if(t[0])throw t[0]}function J(n,e){const t=gn(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function Bc(n,e){const t=gn(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function mi(n,e){return!gn(n,e)[0]}function gn(n,e,t={}){const r=Hs(n,e,t),s=Ec(r);return s[0]?[new _c(s[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,s[1]]}function _r(n,e){return new Jt({type:n,schema:null,validator:e})}function Ic(){return _r("any",()=>!0)}function te(n){return new Jt({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+zt(e)}})}function Vt(){return _r("boolean",n=>typeof n=="boolean")}function $s(n){return _r("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+zt(e))}function et(n){const e=zt(n),t=typeof n;return new Jt({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+zt(r)}})}function Rc(){return _r("never",()=>!1)}function Q(n){return new Jt({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function v(){return _r("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+zt(n))}function be(n){return new Jt({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function vi(n,e){return new Jt({type:"record",schema:null,*entries(t){if(hr(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return hr(t)||"Expected an object, but received: "+zt(t)}})}function Y(){return _r("string",n=>typeof n=="string"||"Expected a string, but received: "+zt(n))}function Ws(n){const e=Rc();return new Jt({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+zt(t)}})}function K(n){const e=Object.keys(n);return new Jt({type:"type",schema:n,*entries(t){if(hr(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return hr(t)||"Expected an object, but received: "+zt(t)}})}function kt(n){const e=n.map(t=>t.type).join(" | ");return new Jt({type:"union",schema:null,validator(t,r){const s=[];for(const o of n){const[...a]=Hs(t,o,r),[f]=a;if(f[0])for(const[u]of a)u&&s.push(u);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+zt(t),...s]}})}function yn(){return _r("unknown",()=>!0)}function xn(n,e,t){return new Jt({...n,coercer:(r,s)=>mi(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}var En,Tc=new Uint8Array(16);function _i(){if(!En&&(En=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!En))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return En(Tc)}const Cc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qn(n){return typeof n=="string"&&Cc.test(n)}var dt=[];for(var rs=0;rs<256;++rs)dt.push((rs+256).toString(16).substr(1));function Kn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(dt[n[e+0]]+dt[n[e+1]]+dt[n[e+2]]+dt[n[e+3]]+"-"+dt[n[e+4]]+dt[n[e+5]]+"-"+dt[n[e+6]]+dt[n[e+7]]+"-"+dt[n[e+8]]+dt[n[e+9]]+"-"+dt[n[e+10]]+dt[n[e+11]]+dt[n[e+12]]+dt[n[e+13]]+dt[n[e+14]]+dt[n[e+15]]).toLowerCase();if(!qn(t))throw TypeError("Stringified UUID is invalid");return t}var mo,ns,ss=0,os=0;function Pc(n,e,t){var r=e&&t||0,s=e||new Array(16);n=n||{};var o=n.node||mo,a=n.clockseq!==void 0?n.clockseq:ns;if(o==null||a==null){var f=n.random||(n.rng||_i)();o==null&&(o=mo=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),a==null&&(a=ns=(f[6]<<8|f[7])&16383)}var u=n.msecs!==void 0?n.msecs:Date.now(),y=n.nsecs!==void 0?n.nsecs:os+1,g=u-ss+(y-os)/1e4;if(g<0&&n.clockseq===void 0&&(a=a+1&16383),(g<0||u>ss)&&n.nsecs===void 0&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ss=u,os=y,ns=a,u+=122192928e5;var E=((u&268435455)*1e4+y)%4294967296;s[r++]=E>>>24&255,s[r++]=E>>>16&255,s[r++]=E>>>8&255,s[r++]=E&255;var C=u/4294967296*1e4&268435455;s[r++]=C>>>8&255,s[r++]=C&255,s[r++]=C>>>24&15|16,s[r++]=C>>>16&255,s[r++]=a>>>8|128,s[r++]=a&255;for(var w=0;w<6;++w)s[r+w]=o[w];return e||Kn(s)}function Si(n){if(!qn(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function Lc(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var Uc="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Oc="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ei(n,e,t){function r(s,o,a,f){if(typeof s=="string"&&(s=Lc(s)),typeof o=="string"&&(o=Si(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+s.length);if(u.set(o),u.set(s,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){f=f||0;for(var y=0;y<16;++y)a[f+y]=u[y];return a}return Kn(u)}try{r.name=n}catch{}return r.DNS=Uc,r.URL=Oc,r}function Mc(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return Nc(Fc(qc(n),n.length*8))}function Nc(n){for(var e=[],t=n.length*32,r="0123456789abcdef",s=0;s<t;s+=8){var o=n[s>>5]>>>s%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(a)}return e}function Ai(n){return(n+64>>>9<<4)+14+1}function Fc(n,e){n[e>>5]|=128<<e%32,n[Ai(e)-1]=e;for(var t=1732584193,r=-271733879,s=-1732584194,o=271733878,a=0;a<n.length;a+=16){var f=t,u=r,y=s,g=o;t=wt(t,r,s,o,n[a],7,-680876936),o=wt(o,t,r,s,n[a+1],12,-389564586),s=wt(s,o,t,r,n[a+2],17,606105819),r=wt(r,s,o,t,n[a+3],22,-1044525330),t=wt(t,r,s,o,n[a+4],7,-176418897),o=wt(o,t,r,s,n[a+5],12,1200080426),s=wt(s,o,t,r,n[a+6],17,-1473231341),r=wt(r,s,o,t,n[a+7],22,-45705983),t=wt(t,r,s,o,n[a+8],7,1770035416),o=wt(o,t,r,s,n[a+9],12,-1958414417),s=wt(s,o,t,r,n[a+10],17,-42063),r=wt(r,s,o,t,n[a+11],22,-1990404162),t=wt(t,r,s,o,n[a+12],7,1804603682),o=wt(o,t,r,s,n[a+13],12,-40341101),s=wt(s,o,t,r,n[a+14],17,-1502002290),r=wt(r,s,o,t,n[a+15],22,1236535329),t=mt(t,r,s,o,n[a+1],5,-165796510),o=mt(o,t,r,s,n[a+6],9,-1069501632),s=mt(s,o,t,r,n[a+11],14,643717713),r=mt(r,s,o,t,n[a],20,-373897302),t=mt(t,r,s,o,n[a+5],5,-701558691),o=mt(o,t,r,s,n[a+10],9,38016083),s=mt(s,o,t,r,n[a+15],14,-660478335),r=mt(r,s,o,t,n[a+4],20,-405537848),t=mt(t,r,s,o,n[a+9],5,568446438),o=mt(o,t,r,s,n[a+14],9,-1019803690),s=mt(s,o,t,r,n[a+3],14,-187363961),r=mt(r,s,o,t,n[a+8],20,1163531501),t=mt(t,r,s,o,n[a+13],5,-1444681467),o=mt(o,t,r,s,n[a+2],9,-51403784),s=mt(s,o,t,r,n[a+7],14,1735328473),r=mt(r,s,o,t,n[a+12],20,-1926607734),t=vt(t,r,s,o,n[a+5],4,-378558),o=vt(o,t,r,s,n[a+8],11,-2022574463),s=vt(s,o,t,r,n[a+11],16,1839030562),r=vt(r,s,o,t,n[a+14],23,-35309556),t=vt(t,r,s,o,n[a+1],4,-1530992060),o=vt(o,t,r,s,n[a+4],11,1272893353),s=vt(s,o,t,r,n[a+7],16,-155497632),r=vt(r,s,o,t,n[a+10],23,-1094730640),t=vt(t,r,s,o,n[a+13],4,681279174),o=vt(o,t,r,s,n[a],11,-358537222),s=vt(s,o,t,r,n[a+3],16,-722521979),r=vt(r,s,o,t,n[a+6],23,76029189),t=vt(t,r,s,o,n[a+9],4,-640364487),o=vt(o,t,r,s,n[a+12],11,-421815835),s=vt(s,o,t,r,n[a+15],16,530742520),r=vt(r,s,o,t,n[a+2],23,-995338651),t=_t(t,r,s,o,n[a],6,-198630844),o=_t(o,t,r,s,n[a+7],10,1126891415),s=_t(s,o,t,r,n[a+14],15,-1416354905),r=_t(r,s,o,t,n[a+5],21,-57434055),t=_t(t,r,s,o,n[a+12],6,1700485571),o=_t(o,t,r,s,n[a+3],10,-1894986606),s=_t(s,o,t,r,n[a+10],15,-1051523),r=_t(r,s,o,t,n[a+1],21,-2054922799),t=_t(t,r,s,o,n[a+8],6,1873313359),o=_t(o,t,r,s,n[a+15],10,-30611744),s=_t(s,o,t,r,n[a+6],15,-1560198380),r=_t(r,s,o,t,n[a+13],21,1309151649),t=_t(t,r,s,o,n[a+4],6,-145523070),o=_t(o,t,r,s,n[a+11],10,-1120210379),s=_t(s,o,t,r,n[a+2],15,718787259),r=_t(r,s,o,t,n[a+9],21,-343485551),t=dr(t,f),r=dr(r,u),s=dr(s,y),o=dr(o,g)}return[t,r,s,o]}function qc(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(Ai(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function dr(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function Kc(n,e){return n<<e|n>>>32-e}function zn(n,e,t,r,s,o){return dr(Kc(dr(dr(e,n),dr(r,o)),s),t)}function wt(n,e,t,r,s,o,a){return zn(e&t|~e&r,n,e,s,o,a)}function mt(n,e,t,r,s,o,a){return zn(e&r|t&~r,n,e,s,o,a)}function vt(n,e,t,r,s,o,a){return zn(e^t^r,n,e,s,o,a)}function _t(n,e,t,r,s,o,a){return zn(t^(e|~r),n,e,s,o,a)}var zc=Ei("v3",48,Mc);const Dc=zc;function jc(n,e,t){n=n||{};var r=n.random||(n.rng||_i)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=r[s];return e}return Kn(r)}function Hc(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function is(n,e){return n<<e|n>>>32-e}function $c(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var s=0;s<r.length;++s)n.push(r.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var o=n.length/4+2,a=Math.ceil(o/16),f=new Array(a),u=0;u<a;++u){for(var y=new Uint32Array(16),g=0;g<16;++g)y[g]=n[u*64+g*4]<<24|n[u*64+g*4+1]<<16|n[u*64+g*4+2]<<8|n[u*64+g*4+3];f[u]=y}f[a-1][14]=(n.length-1)*8/Math.pow(2,32),f[a-1][14]=Math.floor(f[a-1][14]),f[a-1][15]=(n.length-1)*8&4294967295;for(var E=0;E<a;++E){for(var C=new Uint32Array(80),w=0;w<16;++w)C[w]=f[E][w];for(var _=16;_<80;++_)C[_]=is(C[_-3]^C[_-8]^C[_-14]^C[_-16],1);for(var k=t[0],b=t[1],F=t[2],j=t[3],T=t[4],N=0;N<80;++N){var z=Math.floor(N/20),L=is(k,5)+Hc(z,b,F,j)+T+e[z]+C[N]>>>0;T=j,j=F,F=is(b,30)>>>0,b=k,k=L}t[0]=t[0]+k>>>0,t[1]=t[1]+b>>>0,t[2]=t[2]+F>>>0,t[3]=t[3]+j>>>0,t[4]=t[4]+T>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Wc=Ei("v5",80,$c);const Gc=Wc,Vc="00000000-0000-0000-0000-000000000000";function Yc(n){if(!qn(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const Zc=Object.freeze(Object.defineProperty({__proto__:null,NIL:Vc,parse:Si,stringify:Kn,v1:Pc,v3:Dc,v4:jc,v5:Gc,validate:qn,version:Yc},Symbol.toStringTag,{value:"Module"})),ki=jo(Zc),Jc=ki.v4,Xc=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const o={method:n};if(s===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof t>"u"){const a=typeof r.generator=="function"?r.generator:function(){return Jc()};o.id=a(o,r)}else s===2&&t===null?r.notificationIdNull&&(o.id=null):o.id=t;return o};var Qc=Xc;const ef=ki.v4,tf=Qc,an=function(n,e){if(!(this instanceof an))return new an(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return ef()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var rf=an;an.prototype.request=function(n,e,t,r){const s=this;let o=null;const a=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&n&&typeof n=="object"&&typeof e=="function")r=e,o=n;else{typeof t=="function"&&(r=t,t=void 0);const y=typeof r=="function";try{o=tf(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(g){if(y)return r(g);throw g}if(!y)return o}let u;try{u=JSON.stringify(o,this.options.replacer)}catch(y){return r(y)}return this.callServer(u,function(y,g){s._parseResponse(y,g,r)}),o};an.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(r)){const s=function(a){return typeof a.error<"u"},o=function(a){return!s(a)};return t(null,r.filter(s),r.filter(o))}else return t(null,r.error,r.result);t(null,r)};const nf=Hr(rf);var Bi={},as={exports:{}},vo;function Gs(){return vo||(vo=1,function(n){function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(as)),as.exports}var cs={exports:{}},fs={exports:{}},us={exports:{}},_o;function sf(){return _o||(_o=1,function(n){var e=dn().default;function t(r,s){if(e(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var a=o.call(r,s||"default");if(e(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(us)),us.exports}var So;function of(){return So||(So=1,function(n){var e=dn().default,t=sf();function r(s){var o=t(s,"string");return e(o)=="symbol"?o:String(o)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(fs)),fs.exports}var Eo;function Vs(){return Eo||(Eo=1,function(n){var e=of();function t(s,o){for(var a=0;a<o.length;a++){var f=o[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,e(f.key),f)}}function r(s,o,a){return o&&t(s.prototype,o),a&&t(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(cs)),cs.exports}var ls={exports:{}},ds={exports:{}},Ao;function af(){return Ao||(Ao=1,function(n){function e(t,r){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(ds)),ds.exports}var ko;function Ii(){return ko||(ko=1,function(n){var e=af();function t(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&e(r,s)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(ls)),ls.exports}var hs={exports:{}},ps={exports:{}},Bo;function cf(){return Bo||(Bo=1,function(n){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(ps)),ps.exports}var Io;function Ri(){return Io||(Io=1,function(n){var e=dn().default,t=cf();function r(s,o){if(o&&(e(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(hs)),hs.exports}var gs={exports:{}},Ro;function Ti(){return Ro||(Ro=1,function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(gs)),gs.exports}var ys={exports:{}},To;function Ci(){return To||(To=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(u,y,g){this.fn=u,this.context=y,this.once=g||!1}function o(u,y,g,E,C){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new s(g,E||u,C),_=t?t+y:y;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],w]:u._events[_].push(w):(u._events[_]=w,u._eventsCount++),u}function a(u,y){--u._eventsCount===0?u._events=new r:delete u._events[y]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var y=[],g,E;if(this._eventsCount===0)return y;for(E in g=this._events)e.call(g,E)&&y.push(t?E.slice(1):E);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(g)):y},f.prototype.listeners=function(y){var g=t?t+y:y,E=this._events[g];if(!E)return[];if(E.fn)return[E.fn];for(var C=0,w=E.length,_=new Array(w);C<w;C++)_[C]=E[C].fn;return _},f.prototype.listenerCount=function(y){var g=t?t+y:y,E=this._events[g];return E?E.fn?1:E.length:0},f.prototype.emit=function(y,g,E,C,w,_){var k=t?t+y:y;if(!this._events[k])return!1;var b=this._events[k],F=arguments.length,j,T;if(b.fn){switch(b.once&&this.removeListener(y,b.fn,void 0,!0),F){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,g),!0;case 3:return b.fn.call(b.context,g,E),!0;case 4:return b.fn.call(b.context,g,E,C),!0;case 5:return b.fn.call(b.context,g,E,C,w),!0;case 6:return b.fn.call(b.context,g,E,C,w,_),!0}for(T=1,j=new Array(F-1);T<F;T++)j[T-1]=arguments[T];b.fn.apply(b.context,j)}else{var N=b.length,z;for(T=0;T<N;T++)switch(b[T].once&&this.removeListener(y,b[T].fn,void 0,!0),F){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,g);break;case 3:b[T].fn.call(b[T].context,g,E);break;case 4:b[T].fn.call(b[T].context,g,E,C);break;default:if(!j)for(z=1,j=new Array(F-1);z<F;z++)j[z-1]=arguments[z];b[T].fn.apply(b[T].context,j)}}return!0},f.prototype.on=function(y,g,E){return o(this,y,g,E,!1)},f.prototype.once=function(y,g,E){return o(this,y,g,E,!0)},f.prototype.removeListener=function(y,g,E,C){var w=t?t+y:y;if(!this._events[w])return this;if(!g)return a(this,w),this;var _=this._events[w];if(_.fn)_.fn===g&&(!C||_.once)&&(!E||_.context===E)&&a(this,w);else{for(var k=0,b=[],F=_.length;k<F;k++)(_[k].fn!==g||C&&!_[k].once||E&&_[k].context!==E)&&b.push(_[k]);b.length?this._events[w]=b.length===1?b[0]:b:a(this,w)}return this},f.prototype.removeAllListeners=function(y){var g;return y?(g=t?t+y:y,this._events[g]&&a(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,n.exports=f}(ys)),ys.exports}var Or={},Co;function ff(){if(Co)return Or;Co=1;var n=Bs;Object.defineProperty(Or,"__esModule",{value:!0}),Or.DefaultDataPack=void 0,Or.createError=o;var e=n(Gs()),t=n(Vs()),r=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]),s=function(){function a(){(0,e.default)(this,a)}return(0,t.default)(a,[{key:"encode",value:function(u){return JSON.stringify(u)}},{key:"decode",value:function(u){return JSON.parse(u)}}]),a}();Or.DefaultDataPack=s;function o(a,f){var u={code:a,message:r.get(a)||"Internal Server Error"};return f&&(u.data=f),u}return Or}(function(n){var e=Bs;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(Ia()),r=e(ka()),s=e(dn()),o=e(Gs()),a=e(Vs()),f=e(Ii()),u=e(Ri()),y=e(Ti()),g=Ci(),E=ff();function C(b){var F=w();return function(){var T=(0,y.default)(b),N;if(F){var z=(0,y.default)(this).constructor;N=Reflect.construct(T,arguments,z)}else N=T.apply(this,arguments);return(0,u.default)(this,N)}}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _=function(b,F){var j={};for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&F.indexOf(T)<0&&(j[T]=b[T]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,T=Object.getOwnPropertySymbols(b);N<T.length;N++)F.indexOf(T[N])<0&&Object.prototype.propertyIsEnumerable.call(b,T[N])&&(j[T[N]]=b[T[N]]);return j},k=function(b){(0,f.default)(j,b);var F=C(j);function j(T){var N,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re=arguments.length>3?arguments[3]:void 0,V=arguments.length>4?arguments[4]:void 0;(0,o.default)(this,j);var de=L.autoconnect,De=de===void 0?!0:de,Ye=L.reconnect,at=Ye===void 0?!0:Ye,ft=L.reconnect_interval,Ot=ft===void 0?1e3:ft,Bt=L.max_reconnects,ut=Bt===void 0?5:Bt,Dt=_(L,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return N=F.call(this),N.webSocketFactory=T,N.queue={},N.rpc_id=0,N.address=z,N.autoconnect=De,N.ready=!1,N.reconnect=at,N.reconnect_timer_id=void 0,N.reconnect_interval=Ot,N.max_reconnects=ut,N.rest_options=Dt,N.current_reconnects=0,N.generate_request_id=re||function(){return++N.rpc_id},V?N.dataPack=V:N.dataPack=new E.DefaultDataPack,N.autoconnect&&N._connect(N.address,Object.assign({autoconnect:N.autoconnect,reconnect:N.reconnect,reconnect_interval:N.reconnect_interval,max_reconnects:N.max_reconnects},N.rest_options)),N}return(0,a.default)(j,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(N,z,L,re){var V=this;return!re&&(0,s.default)(L)==="object"&&(re=L,L=null),new Promise(function(de,De){if(!V.ready)return De(new Error("socket not ready"));var Ye=V.generate_request_id(N,z),at={jsonrpc:"2.0",method:N,params:z||void 0,id:Ye};V.socket.send(V.dataPack.encode(at),re,function(ft){if(ft)return De(ft);V.queue[Ye]={promise:[de,De]},L&&(V.queue[Ye].timeout=setTimeout(function(){delete V.queue[Ye],De(new Error("reply timeout"))},L))})})}},{key:"login",value:function(){var T=(0,r.default)(t.default.mark(function z(L){var re;return t.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,this.call("rpc.login",L);case 2:if(re=de.sent,re){de.next=5;break}throw new Error("authentication failed");case 5:return de.abrupt("return",re);case 6:case"end":return de.stop()}},z,this)}));function N(z){return T.apply(this,arguments)}return N}()},{key:"listMethods",value:function(){var T=(0,r.default)(t.default.mark(function z(){return t.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,this.call("__listMethods");case 2:return re.abrupt("return",re.sent);case 3:case"end":return re.stop()}},z,this)}));function N(){return T.apply(this,arguments)}return N}()},{key:"notify",value:function(N,z){var L=this;return new Promise(function(re,V){if(!L.ready)return V(new Error("socket not ready"));var de={jsonrpc:"2.0",method:N,params:z};L.socket.send(L.dataPack.encode(de),function(De){if(De)return V(De);re()})})}},{key:"subscribe",value:function(){var T=(0,r.default)(t.default.mark(function z(L){var re;return t.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return typeof L=="string"&&(L=[L]),de.next=3,this.call("rpc.on",L);case 3:if(re=de.sent,!(typeof L=="string"&&re[L]!=="ok")){de.next=6;break}throw new Error("Failed subscribing to an event '"+L+"' with: "+re[L]);case 6:return de.abrupt("return",re);case 7:case"end":return de.stop()}},z,this)}));function N(z){return T.apply(this,arguments)}return N}()},{key:"unsubscribe",value:function(){var T=(0,r.default)(t.default.mark(function z(L){var re;return t.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return typeof L=="string"&&(L=[L]),de.next=3,this.call("rpc.off",L);case 3:if(re=de.sent,!(typeof L=="string"&&re[L]!=="ok")){de.next=6;break}throw new Error("Failed unsubscribing from an event with: "+re);case 6:return de.abrupt("return",re);case 7:case"end":return de.stop()}},z,this)}));function N(z){return T.apply(this,arguments)}return N}()},{key:"close",value:function(N,z){this.socket.close(N||1e3,z)}},{key:"_connect",value:function(N,z){var L=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(N,z),this.socket.addEventListener("open",function(){L.ready=!0,L.emit("open"),L.current_reconnects=0}),this.socket.addEventListener("message",function(re){var V=re.data;V instanceof ArrayBuffer&&(V=Buffer.from(V).toString());try{V=L.dataPack.decode(V)}catch{return}if(V.notification&&L.listeners(V.notification).length){if(!Object.keys(V.params).length)return L.emit(V.notification);var de=[V.notification];if(V.params.constructor===Object)de.push(V.params);else for(var De=0;De<V.params.length;De++)de.push(V.params[De]);return Promise.resolve().then(function(){L.emit.apply(L,de)})}if(!L.queue[V.id])return V.method?Promise.resolve().then(function(){L.emit(V.method,V==null?void 0:V.params)}):void 0;"error"in V=="result"in V&&L.queue[V.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),L.queue[V.id].timeout&&clearTimeout(L.queue[V.id].timeout),V.error?L.queue[V.id].promise[1](V.error):L.queue[V.id].promise[0](V.result),delete L.queue[V.id]}),this.socket.addEventListener("error",function(re){return L.emit("error",re)}),this.socket.addEventListener("close",function(re){var V=re.code,de=re.reason;L.ready&&setTimeout(function(){return L.emit("close",V,de)},0),L.ready=!1,L.socket=void 0,V!==1e3&&(L.current_reconnects++,L.reconnect&&(L.max_reconnects>L.current_reconnects||L.max_reconnects===0)&&(L.reconnect_timer_id=setTimeout(function(){return L._connect(N,z)},L.reconnect_interval)))})}}]),j}(g.EventEmitter);n.default=k})(Bi);const uf=Hr(Bi);var Pi={};(function(n){var e=Bs;Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var t=e(Gs()),r=e(Vs()),s=e(Ii()),o=e(Ri()),a=e(Ti()),f=Ci();function u(C){var w=y();return function(){var k=(0,a.default)(C),b;if(w){var F=(0,a.default)(this).constructor;b=Reflect.construct(k,arguments,F)}else b=k.apply(this,arguments);return(0,o.default)(this,b)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var g=function(C){(0,s.default)(_,C);var w=u(_);function _(k,b,F){var j;return(0,t.default)(this,_),j=w.call(this),j.socket=new window.WebSocket(k,F),j.socket.onopen=function(){return j.emit("open")},j.socket.onmessage=function(T){return j.emit("message",T.data)},j.socket.onerror=function(T){return j.emit("error",T)},j.socket.onclose=function(T){j.emit("close",T.code,T.reason)},j}return(0,r.default)(_,[{key:"send",value:function(b,F,j){var T=j||F;try{this.socket.send(b),T()}catch(N){T(N)}}},{key:"close",value:function(b,F){this.socket.close(b,F)}},{key:"addEventListener",value:function(b,F,j){this.socket.addEventListener(b,F,j)}}]),_}(f.EventEmitter);function E(C,w){return new g(C,w)}})(Pi);const lf=Hr(Pi),Po=()=>{const n=hn.utils.randomPrivateKey(),e=Ss(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},Ss=hn.getPublicKey;function Lo(n){try{return hn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Li=(n,e)=>hn.sign(n,e.slice(0,32)),df=hn.verify,Dr=n=>Le.Buffer.isBuffer(n)?n:n instanceof Uint8Array?Le.Buffer.from(n.buffer,n.byteOffset,n.byteLength):Le.Buffer.from(n);class hf{constructor(e){Object.assign(this,e)}encode(){return Le.Buffer.from(ti(kn,this))}static decode(e){return ri(kn,this,e)}static decodeUnchecked(e){return Zo(kn,this,e)}}const kn=new Map;var Ui;let Oi;const pf=32,Wt=32;function gf(n){return n._bn!==void 0}let Uo=1;Oi=Symbol.toStringTag;class xe extends hf{constructor(e){if(super({}),this._bn=void 0,gf(e))this._bn=e._bn;else{if(typeof e=="string"){const t=gt.decode(e);if(t.length!=Wt)throw new Error("Invalid public key input");this._bn=new co(t)}else this._bn=new co(e);if(this._bn.byteLength()>Wt)throw new Error("Invalid public key input")}}static unique(){const e=new xe(Uo);return Uo+=1,new xe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return gt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Le.Buffer);if(e.length===Wt)return e;const t=Le.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Oi](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=Le.Buffer.concat([e.toBuffer(),Le.Buffer.from(t),r.toBuffer()]),o=fo(s);return new xe(o)}static createProgramAddressSync(e,t){let r=Le.Buffer.alloc(0);e.forEach(function(o){if(o.length>pf)throw new TypeError("Max seed length exceeded");r=Le.Buffer.concat([r,Dr(o)])}),r=Le.Buffer.concat([r,t.toBuffer(),Le.Buffer.from("ProgramDerivedAddress")]);const s=fo(r);if(Lo(s))throw new Error("Invalid seeds, address must fall off the curve");return new xe(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const o=e.concat(Le.Buffer.from([r]));s=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new xe(e);return Lo(t.toBytes())}}Ui=xe;xe.default=new Ui("11111111111111111111111111111111");kn.set(xe,{kind:"struct",fields:[["_bn","u256"]]});new xe("BPFLoader1111111111111111111111111111111111");const qr=1232,Ys=127,cn=64;class Mi extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Mi.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ni extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ni.prototype,"name",{value:"TransactionExpiredTimeoutError"});class nn extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(nn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Ln{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,a)=>{r.set(o.toBase58(),a)});const s=o=>{const a=r.get(o.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(o=>({programIdIndex:s(o.programId),accountKeyIndexes:o.keys.map(a=>s(a.pubkey)),data:o.data}))}}const Oe=(n="publicKey")=>Ze(32,n),yf=(n="signature")=>Ze(64,n),Fr=(n="string")=>{const e=ue([ye("length"),ye("lengthPadding"),Ze(mr(ye(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(o,a)=>t(o,a).chars.toString(),s.encode=(o,a,f)=>{const u={chars:Le.Buffer.from(o,"utf8")};return r(u,a,f)},s.alloc=o=>ye().span+ye().span+Le.Buffer.from(o,"utf8").length,s},xf=(n="authorized")=>ue([Oe("staker"),Oe("withdrawer")],n),bf=(n="lockup")=>ue([Ct("unixTimestamp"),Ct("epoch"),Oe("custodian")],n),wf=(n="voteInit")=>ue([Oe("nodePubkey"),Oe("authorizedVoter"),Oe("authorizedWithdrawer"),He("commission")],n),mf=(n="voteAuthorizeWithSeedArgs")=>ue([ye("voteAuthorizationType"),Oe("currentAuthorityDerivedKeyOwnerPubkey"),Fr("currentAuthorityDerivedKeySeed"),Oe("newAuthorized")],n);function Pt(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function Lt(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Xe(n,e){if(!n)throw new Error(e||"Assertion failed")}class Dn{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=a=>{const f=a.toBase58();let u=r.get(f);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(f,u)),u},o=s(t);o.isSigner=!0,o.isWritable=!0;for(const a of e){s(a.programId).isInvoked=!0;for(const f of a.keys){const u=s(f.pubkey);u.isSigner||(u.isSigner=f.isSigner),u.isWritable||(u.isWritable=f.isWritable)}}return new Dn(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Xe(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,u])=>u.isSigner&&u.isWritable),r=e.filter(([,u])=>u.isSigner&&!u.isWritable),s=e.filter(([,u])=>!u.isSigner&&u.isWritable),o=e.filter(([,u])=>!u.isSigner&&!u.isWritable),a={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Xe(t.length>0,"Expected at least one writable signer key");const[u]=t[0];Xe(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const f=[...t.map(([u])=>new xe(u)),...r.map(([u])=>new xe(u)),...s.map(([u])=>new xe(u)),...o.map(([u])=>new xe(u))];return[a,f]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[s,o]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[o,a]of this.keyMetaMap.entries())if(t(a)){const f=new xe(o),u=e.findIndex(y=>y.equals(f));u>=0&&(Xe(u<256,"Max lookup table index exceeded"),r.push(u),s.push(f),this.keyMetaMap.delete(o))}return[r,s]}}class nr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new xe(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:gt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ln(this.staticAccountKeys)}static compile(e){const t=Dn.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),a=new Ln(s).compileInstructions(e.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:gt.encode(f.data)}));return new nr({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,o=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Lt(t,e);const r=this.instructions.map(E=>{const{accounts:C,programIdIndex:w}=E,_=Array.from(gt.decode(E.data));let k=[];Lt(k,C.length);let b=[];return Lt(b,_.length),{programIdIndex:w,keyIndicesCount:Le.Buffer.from(k),keyIndices:C,dataLength:Le.Buffer.from(b),data:_}});let s=[];Lt(s,r.length);let o=Le.Buffer.alloc(qr);Le.Buffer.from(s).copy(o);let a=s.length;r.forEach(E=>{const w=ue([He("programIdIndex"),Ze(E.keyIndicesCount.length,"keyIndicesCount"),St(He("keyIndex"),E.keyIndices.length,"keyIndices"),Ze(E.dataLength.length,"dataLength"),St(He("userdatum"),E.data.length,"data")]).encode(E,o,a);a+=w}),o=o.slice(0,a);const f=ue([Ze(1,"numRequiredSignatures"),Ze(1,"numReadonlySignedAccounts"),Ze(1,"numReadonlyUnsignedAccounts"),Ze(t.length,"keyCount"),St(Oe("key"),e,"keys"),Oe("recentBlockhash")]),u={numRequiredSignatures:Le.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Le.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Le.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Le.Buffer.from(t),keys:this.accountKeys.map(E=>Dr(E.toBytes())),recentBlockhash:gt.decode(this.recentBlockhash)};let y=Le.Buffer.alloc(2048);const g=f.encode(u,y);return o.copy(y,g),y.slice(0,g+o.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&Ys))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=t.shift(),o=t.shift(),a=Pt(t);let f=[];for(let C=0;C<a;C++){const w=t.slice(0,Wt);t=t.slice(Wt),f.push(new xe(Le.Buffer.from(w)))}const u=t.slice(0,Wt);t=t.slice(Wt);const y=Pt(t);let g=[];for(let C=0;C<y;C++){const w=t.shift(),_=Pt(t),k=t.slice(0,_);t=t.slice(_);const b=Pt(t),F=t.slice(0,b),j=gt.encode(Le.Buffer.from(F));t=t.slice(b),g.push({programIdIndex:w,accounts:k,data:j})}const E={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:o},recentBlockhash:gt.encode(Le.Buffer.from(u)),accountKeys:f,instructions:g};return new nr(E)}}class fn{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ln(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,o=this.addressTableLookups.reduce((a,f)=>a+f.writableIndexes.length,0);return s<o}else if(e>=this.header.numRequiredSignatures){const s=e-t,a=r-t-this.header.numReadonlyUnsignedAccounts;return s<a}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(o=>o.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<s.state.addresses.length)t.writable.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<s.state.addresses.length)t.readonly.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=Dn.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const g of o){const E=t.extractTableLookup(g);if(E!==void 0){const[C,{writable:w,readonly:_}]=E;r.push(C),s.writable.push(...w),s.readonly.push(..._)}}const[a,f]=t.getMessageComponents(),y=new Ln(f,s).compileInstructions(e.instructions);return new fn({header:a,staticAccountKeys:f,recentBlockhash:e.recentBlockhash,compiledInstructions:y,addressTableLookups:r})}serialize(){const e=Array();Lt(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Lt(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),o=Array();Lt(o,this.addressTableLookups.length);const a=ue([He("prefix"),ue([He("numRequiredSignatures"),He("numReadonlySignedAccounts"),He("numReadonlyUnsignedAccounts")],"header"),Ze(e.length,"staticAccountKeysLength"),St(Oe(),this.staticAccountKeys.length,"staticAccountKeys"),Oe("recentBlockhash"),Ze(r.length,"instructionsLength"),Ze(t.length,"serializedInstructions"),Ze(o.length,"addressTableLookupsLength"),Ze(s.length,"serializedAddressTableLookups")]),f=new Uint8Array(qr),y=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(g=>g.toBytes()),recentBlockhash:gt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:s},f);return f.slice(0,y)}serializeInstructions(){let e=0;const t=new Uint8Array(qr);for(const r of this.compiledInstructions){const s=Array();Lt(s,r.accountKeyIndexes.length);const o=Array();Lt(o,r.data.length);const a=ue([He("programIdIndex"),Ze(s.length,"encodedAccountKeyIndexesLength"),St(He(),r.accountKeyIndexes.length,"accountKeyIndexes"),Ze(o.length,"encodedDataLength"),Ze(r.data.length,"data")]);e+=a.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(qr);for(const r of this.addressTableLookups){const s=Array();Lt(s,r.writableIndexes.length);const o=Array();Lt(o,r.readonlyIndexes.length);const a=ue([Oe("accountKey"),Ze(s.length,"encodedWritableIndexesLength"),St(He(),r.writableIndexes.length,"writableIndexes"),Ze(o.length,"encodedReadonlyIndexesLength"),St(He(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),s=r&Ys;Xe(r!==s,"Expected versioned message but received legacy message");const o=s;Xe(o===0,`Expected versioned message with version 0 but found version ${o}`);const a={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},f=[],u=Pt(t);for(let _=0;_<u;_++)f.push(new xe(t.splice(0,Wt)));const y=gt.encode(t.splice(0,Wt)),g=Pt(t),E=[];for(let _=0;_<g;_++){const k=t.shift(),b=Pt(t),F=t.splice(0,b),j=Pt(t),T=new Uint8Array(t.splice(0,j));E.push({programIdIndex:k,accountKeyIndexes:F,data:T})}const C=Pt(t),w=[];for(let _=0;_<C;_++){const k=new xe(t.splice(0,Wt)),b=Pt(t),F=t.splice(0,b),j=Pt(t),T=t.splice(0,j);w.push({accountKey:k,writableIndexes:F,readonlyIndexes:T})}return new fn({header:a,staticAccountKeys:f,recentBlockhash:y,compiledInstructions:E,addressTableLookups:w})}}const Fi={deserializeMessageVersion(n){const e=n[0],t=e&Ys;return t===e?"legacy":t},deserialize:n=>{const e=Fi.deserializeMessageVersion(n);if(e==="legacy")return nr.from(n);if(e===0)return fn.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let cr=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const vf=Le.Buffer.alloc(cn).fill(0);class Oo{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Le.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class fr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Oo(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<t.length;k++)if(t[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const s=[],o=[];t.forEach(k=>{k.keys.forEach(F=>{o.push({...F})});const b=k.programId.toString();s.includes(b)||s.push(b)}),s.forEach(k=>{o.push({pubkey:new xe(k),isSigner:!1,isWritable:!1})});const a=[];o.forEach(k=>{const b=k.pubkey.toString(),F=a.findIndex(j=>j.pubkey.toString()===b);F>-1?(a[F].isWritable=a[F].isWritable||k.isWritable,a[F].isSigner=a[F].isSigner||k.isSigner):a.push(k)}),a.sort(function(k,b){if(k.isSigner!==b.isSigner)return k.isSigner?-1:1;if(k.isWritable!==b.isWritable)return k.isWritable?-1:1;const F={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return k.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",F)});const f=a.findIndex(k=>k.pubkey.equals(r));if(f>-1){const[k]=a.splice(f,1);k.isSigner=!0,k.isWritable=!0,a.unshift(k)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const k of this.signatures){const b=a.findIndex(F=>F.pubkey.equals(k.publicKey));if(b>-1)a[b].isSigner||(a[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let u=0,y=0,g=0;const E=[],C=[];a.forEach(({pubkey:k,isSigner:b,isWritable:F})=>{b?(E.push(k.toString()),u+=1,F||(y+=1)):(C.push(k.toString()),F||(g+=1))});const w=E.concat(C),_=t.map(k=>{const{data:b,programId:F}=k;return{programIdIndex:w.indexOf(F.toString()),accounts:k.keys.map(j=>w.indexOf(j.pubkey.toString())),data:gt.encode(b)}});return _.forEach(k=>{Xe(k.programIdIndex>=0),k.accounts.forEach(b=>Xe(b>=0))}),new nr({header:{numRequiredSignatures:u,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:g},accountKeys:w,recentBlockhash:e,instructions:_})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,o)=>t[o].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const a=o.publicKey.toString();t.has(a)||(t.add(a),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const a=o.publicKey.toString();t.has(a)||(t.add(a),r.push(o))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const o=Li(r,s.secretKey);this._addSignature(s.publicKey,Dr(o))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Xe(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Le.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:o}of this.signatures)s===null?t&&(r.missing||(r.missing=[])).push(o):df(s,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(s,t);if(o){let a="Signature verification failed.";throw o.invalid&&(a+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),o.missing&&(a+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Lt(r,t.length);const s=r.length+t.length*64+e.length,o=Le.Buffer.alloc(s);return Xe(t.length<256),Le.Buffer.from(r).copy(o,0),t.forEach(({signature:a},f)=>{a!==null&&(Xe(a.length===64,"signature has invalid length"),Le.Buffer.from(a).copy(o,r.length+f*64))}),e.copy(o,r.length+t.length*64),Xe(o.length<=qr,`Transaction too large: ${o.length} > ${qr}`),o}get keys(){return Xe(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Xe(this.instructions.length===1),this.instructions[0].programId}get data(){return Xe(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Pt(t);let s=[];for(let o=0;o<r;o++){const a=t.slice(0,cn);t=t.slice(cn),s.push(gt.encode(Le.Buffer.from(a)))}return fr.populate(nr.from(t),s)}static populate(e,t=[]){const r=new fr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,o)=>{const a={signature:s==gt.encode(vf)?null:gt.decode(s),publicKey:e.accountKeys[o]};r.signatures.push(a)}),e.instructions.forEach(s=>{const o=s.accounts.map(a=>{const f=e.accountKeys[a];return{pubkey:f,isSigner:r.signatures.some(u=>u.publicKey.toString()===f.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});r.instructions.push(new Oo({keys:o,programId:e.accountKeys[s.programIdIndex],data:gt.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Kr{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Xe(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(cn));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Lt(t,this.signatures.length);const r=ue([Ze(t.length,"encodedSignaturesLength"),St(yf(),this.signatures.length,"signatures"),Ze(e.length,"serializedMessage")]),s=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,o)}static deserialize(e){let t=[...e];const r=[],s=Pt(t);for(let a=0;a<s;a++)r.push(new Uint8Array(t.splice(0,cn)));const o=Fi.deserialize(new Uint8Array(t));return new Kr(o,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const o=r.findIndex(a=>a.equals(s.publicKey));Xe(o>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[o]=Li(t,s.secretKey)}}addSignature(e,t){Xe(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Xe(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const _f=160,Sf=64,Ef=_f/Sf,Af=1e3/Ef;new xe("SysvarC1ock11111111111111111111111111111111");new xe("SysvarEpochSchedu1e111111111111111111111111");new xe("Sysvar1nstructions1111111111111111111111111");new xe("SysvarRecentB1ockHashes11111111111111111111");new xe("SysvarRent111111111111111111111111111111111");new xe("SysvarRewards111111111111111111111111111111");new xe("SysvarS1otHashes111111111111111111111111111");new xe("SysvarS1otHistory11111111111111111111111111");new xe("SysvarStakeHistory1111111111111111111111111");function Nr(n){return new Promise(e=>setTimeout(e,n))}const kf=ht("lamportsPerSignature"),qi=ue([ye("version"),ye("state"),Oe("authorizedPubkey"),Oe("nonce"),ue([kf],"feeCalculator")]);qi.span;class Zs{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=qi.decode(Dr(e),0);return new Zs({authorizedPubkey:new xe(t.authorizedPubkey),nonce:new xe(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Bf=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},If=n=>e=>{const t=Ze(n,e),{encode:r,decode:s}=Bf(t),o=t;return o.decode=(a,f)=>{const u=s(a,f);return xc(Le.Buffer.from(u))},o.encode=(a,f,u)=>{const y=mc(a,n);return r(y,f,u)},o},jr=If(8);Object.freeze({Create:{index:0,layout:ue([ye("instruction"),Ct("lamports"),Ct("space"),Oe("programId")])},Assign:{index:1,layout:ue([ye("instruction"),Oe("programId")])},Transfer:{index:2,layout:ue([ye("instruction"),jr("lamports")])},CreateWithSeed:{index:3,layout:ue([ye("instruction"),Oe("base"),Fr("seed"),Ct("lamports"),Ct("space"),Oe("programId")])},AdvanceNonceAccount:{index:4,layout:ue([ye("instruction")])},WithdrawNonceAccount:{index:5,layout:ue([ye("instruction"),Ct("lamports")])},InitializeNonceAccount:{index:6,layout:ue([ye("instruction"),Oe("authorized")])},AuthorizeNonceAccount:{index:7,layout:ue([ye("instruction"),Oe("authorized")])},Allocate:{index:8,layout:ue([ye("instruction"),Ct("space")])},AllocateWithSeed:{index:9,layout:ue([ye("instruction"),Oe("base"),Fr("seed"),Ct("space"),Oe("programId")])},AssignWithSeed:{index:10,layout:ue([ye("instruction"),Oe("base"),Fr("seed"),Oe("programId")])},TransferWithSeed:{index:11,layout:ue([ye("instruction"),jr("lamports"),Fr("seed"),Oe("programId")])},UpgradeNonceAccount:{index:12,layout:ue([ye("instruction")])}});new xe("11111111111111111111111111111111");new xe("BPFLoader2111111111111111111111111111111111");function Rf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tf=Object.prototype.toString,Cf=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function sn(n,e){var t,r,s,o,a,f,u;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return sn(n.toJSON(),e);if(u=Tf.call(n),u==="[object Array]"){for(s="[",r=n.length-1,t=0;t<r;t++)s+=sn(n[t],!0)+",";return r>-1&&(s+=sn(n[t],!0)),s+"]"}else if(u==="[object Object]"){for(o=Cf(n).sort(),r=o.length,s="",t=0;t<r;)a=o[t],f=sn(n[a],!1),f!==void 0&&(s&&(s+=","),s+=JSON.stringify(a)+":"+f),t++;return"{"+s+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var Pf=function(n){var e=sn(n,!1);if(e!==void 0)return""+e},Mo=Rf(Pf);const rn=32;function xs(n){let e=0;for(;n>1;)n/=2,e++;return e}function Lf(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class Uf{constructor(e,t,r,s,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=xs(Lf(e+rn+1))-xs(rn)-1,r=this.getSlotsInEpoch(t),s=e-(r-rn);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,o=t%this.slotsPerEpoch;return[s,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*rn:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+xs(rn)):this.slotsPerEpoch}}class No extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}class le extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var Of=globalThis.fetch;class Mf extends uf{constructor(e,t,r){const s=o=>{const a=lf(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Nf(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Fo=56;class qo{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Nf(Ff,e),r=e.length-Fo;Xe(r>=0,"lookup table is invalid"),Xe(r%32===0,"lookup table is invalid");const s=r/32,{addresses:o}=ue([St(Oe(),s,"addresses")]).decode(e.slice(Fo));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new xe(t.authority[0]):void 0,addresses:o.map(a=>new xe(a))}}}const Ff={index:1,layout:ue([ye("typeIndex"),jr("deactivationSlot"),ht("lastExtendedSlot"),He("lastExtendedStartIndex"),He(),St(Oe(),mr(He(),-1),"authority")])},qf=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Kf(n){const e=n.match(qf);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,o]=e,a=n.startsWith("https:")?"wss:":"ws:",f=s==null?null:parseInt(s.slice(1),10),u=f==null?"":`:${f+1}`;return`${a}//${r}${u}${o}`}const it=xn($s(xe),Y(),n=>new xe(n)),Ki=Ws([Y(),et("base64")]),Js=xn($s(Le.Buffer),Ki,n=>Le.Buffer.from(n[0],"base64")),zf=30*1e3;function Df(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Je(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function zi(n){return kt([K({jsonrpc:et("2.0"),id:Y(),result:n}),K({jsonrpc:et("2.0"),id:Y(),error:K({code:yn(),message:Y(),data:be(Ic())})})])}const jf=zi(yn());function Pe(n){return xn(zi(n),jf,e=>"error"in e?e:{...e,result:J(e.result,n)})}function st(n){return Pe(K({context:K({slot:v()}),value:n}))}function jn(n){return K({context:K({slot:v()}),value:n})}function bs(n,e){return n===0?new fn({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new xe(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:gt.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new nr(e)}const Hf=K({foundation:v(),foundationTerm:v(),initial:v(),taper:v(),terminal:v()}),$f=Pe(te(Q(K({epoch:v(),effectiveSlot:v(),amount:v(),postBalance:v(),commission:be(Q(v()))})))),Wf=te(K({slot:v(),prioritizationFee:v()})),Gf=K({total:v(),validator:v(),foundation:v(),epoch:v()}),Vf=K({epoch:v(),slotIndex:v(),slotsInEpoch:v(),absoluteSlot:v(),blockHeight:be(v()),transactionCount:be(v())}),Yf=K({slotsPerEpoch:v(),leaderScheduleSlotOffset:v(),warmup:Vt(),firstNormalEpoch:v(),firstNormalSlot:v()}),Zf=vi(Y(),te(v())),Sr=Q(kt([K({}),Y()])),Jf=K({err:Sr}),Xf=et("receivedSignature"),Qf=K({"solana-core":Y(),"feature-set":be(v())}),Ko=st(K({err:Q(kt([K({}),Y()])),logs:Q(te(Y())),accounts:be(Q(te(Q(K({executable:Vt(),owner:Y(),lamports:v(),data:te(Y()),rentEpoch:be(v())}))))),unitsConsumed:be(v()),returnData:be(Q(K({programId:Y(),data:Ws([Y(),et("base64")])})))})),eu=st(K({byIdentity:vi(Y(),te(v())),range:K({firstSlot:v(),lastSlot:v()})}));function tu(n,e,t,r,s,o){const a=t||Of;let f;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return r&&(u=async(g,E)=>{const C=await new Promise((w,_)=>{try{r(g,E,(k,b)=>w([k,b]))}catch(k){_(k)}});return await a(...C)}),new nf(async(g,E)=>{const C={method:"POST",body:g,agent:f,headers:Object.assign({"Content-Type":"application/json"},e||{},rl)};try{let w=5,_,k=500;for(;u?_=await u(n,C):_=await a(n,C),!(_.status!==429||s===!0||(w-=1,w===0));)console.error(`Server responded with ${_.status} ${_.statusText}.  Retrying after ${k}ms delay...`),await Nr(k),k*=2;const b=await _.text();_.ok?E(null,b):E(new Error(`${_.status} ${_.statusText}: ${b}`))}catch(w){w instanceof Error&&E(w)}},{})}function ru(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(o,a)=>{if(o){s(o);return}r(a)})})}function nu(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(o=>n.request(o.methodName,o.args));n.request(s,(o,a)=>{if(o){r(o);return}t(a)})})}const su=Pe(Hf),ou=Pe(Gf),iu=Pe(Wf),au=Pe(Vf),cu=Pe(Yf),fu=Pe(Zf),uu=Pe(v()),lu=st(K({total:v(),circulating:v(),nonCirculating:v(),nonCirculatingAccounts:te(it)})),Es=K({amount:Y(),uiAmount:Q(v()),decimals:v(),uiAmountString:be(Y())}),du=st(te(K({address:it,amount:Y(),uiAmount:Q(v()),decimals:v(),uiAmountString:be(Y())}))),hu=st(te(K({pubkey:it,account:K({executable:Vt(),owner:it,lamports:v(),data:Js,rentEpoch:v()})}))),As=K({program:Y(),parsed:yn(),space:v()}),pu=st(te(K({pubkey:it,account:K({executable:Vt(),owner:it,lamports:v(),data:As,rentEpoch:v()})}))),gu=st(te(K({lamports:v(),address:it}))),un=K({executable:Vt(),owner:it,lamports:v(),data:Js,rentEpoch:v()}),yu=K({pubkey:it,account:un}),xu=xn(kt([$s(Le.Buffer),As]),kt([Ki,As]),n=>Array.isArray(n)?J(n,Js):n),ks=K({executable:Vt(),owner:it,lamports:v(),data:xu,rentEpoch:v()}),bu=K({pubkey:it,account:ks}),wu=K({state:kt([et("active"),et("inactive"),et("activating"),et("deactivating")]),active:v(),inactive:v()}),mu=Pe(te(K({signature:Y(),slot:v(),err:Sr,memo:Q(Y()),blockTime:be(Q(v()))}))),vu=Pe(te(K({signature:Y(),slot:v(),err:Sr,memo:Q(Y()),blockTime:be(Q(v()))}))),_u=K({subscription:v(),result:jn(un)}),Su=K({pubkey:it,account:un}),Eu=K({subscription:v(),result:jn(Su)}),Au=K({parent:v(),slot:v(),root:v()}),ku=K({subscription:v(),result:Au}),Bu=kt([K({type:kt([et("firstShredReceived"),et("completed"),et("optimisticConfirmation"),et("root")]),slot:v(),timestamp:v()}),K({type:et("createdBank"),parent:v(),slot:v(),timestamp:v()}),K({type:et("frozen"),slot:v(),timestamp:v(),stats:K({numTransactionEntries:v(),numSuccessfulTransactions:v(),numFailedTransactions:v(),maxTransactionsPerEntry:v()})}),K({type:et("dead"),slot:v(),timestamp:v(),err:Y()})]),Iu=K({subscription:v(),result:Bu}),Ru=K({subscription:v(),result:jn(kt([Jf,Xf]))}),Tu=K({subscription:v(),result:v()}),Cu=K({pubkey:Y(),gossip:Q(Y()),tpu:Q(Y()),rpc:Q(Y()),version:Q(Y())}),zo=K({votePubkey:Y(),nodePubkey:Y(),activatedStake:v(),epochVoteAccount:Vt(),epochCredits:te(Ws([v(),v(),v()])),commission:v(),lastVote:v(),rootSlot:Q(v())}),Pu=Pe(K({current:te(zo),delinquent:te(zo)})),Lu=kt([et("processed"),et("confirmed"),et("finalized")]),Uu=K({slot:v(),confirmations:Q(v()),err:Sr,confirmationStatus:be(Lu)}),Ou=st(te(Q(Uu))),Mu=Pe(v()),Di=K({accountKey:it,writableIndexes:te(v()),readonlyIndexes:te(v())}),Xs=K({signatures:te(Y()),message:K({accountKeys:te(Y()),header:K({numRequiredSignatures:v(),numReadonlySignedAccounts:v(),numReadonlyUnsignedAccounts:v()}),instructions:te(K({accounts:te(v()),data:Y(),programIdIndex:v()})),recentBlockhash:Y(),addressTableLookups:be(te(Di))})}),ji=K({pubkey:it,signer:Vt(),writable:Vt(),source:be(kt([et("transaction"),et("lookupTable")]))}),Hi=K({accountKeys:te(ji),signatures:te(Y())}),$i=K({parsed:yn(),program:Y(),programId:it}),Wi=K({accounts:te(it),data:Y(),programId:it}),Nu=kt([Wi,$i]),Fu=kt([K({parsed:yn(),program:Y(),programId:Y()}),K({accounts:te(Y()),data:Y(),programId:Y()})]),Gi=xn(Nu,Fu,n=>"accounts"in n?J(n,Wi):J(n,$i)),Vi=K({signatures:te(Y()),message:K({accountKeys:te(ji),instructions:te(Gi),recentBlockhash:Y(),addressTableLookups:be(Q(te(Di)))})}),Un=K({accountIndex:v(),mint:Y(),owner:be(Y()),uiTokenAmount:Es}),Yi=K({writable:te(it),readonly:te(it)}),Hn=K({err:Sr,fee:v(),innerInstructions:be(Q(te(K({index:v(),instructions:te(K({accounts:te(v()),data:Y(),programIdIndex:v()}))})))),preBalances:te(v()),postBalances:te(v()),logMessages:be(Q(te(Y()))),preTokenBalances:be(Q(te(Un))),postTokenBalances:be(Q(te(Un))),loadedAddresses:be(Yi),computeUnitsConsumed:be(v())}),Qs=K({err:Sr,fee:v(),innerInstructions:be(Q(te(K({index:v(),instructions:te(Gi)})))),preBalances:te(v()),postBalances:te(v()),logMessages:be(Q(te(Y()))),preTokenBalances:be(Q(te(Un))),postTokenBalances:be(Q(te(Un))),loadedAddresses:be(Yi),computeUnitsConsumed:be(v())}),Gr=kt([et(0),et("legacy")]),Er=K({pubkey:Y(),lamports:v(),postBalance:Q(v()),rewardType:Q(Y()),commission:be(Q(v()))}),qu=Pe(Q(K({blockhash:Y(),previousBlockhash:Y(),parentSlot:v(),transactions:te(K({transaction:Xs,meta:Q(Hn),version:be(Gr)})),rewards:be(te(Er)),blockTime:Q(v()),blockHeight:Q(v())}))),Ku=Pe(Q(K({blockhash:Y(),previousBlockhash:Y(),parentSlot:v(),rewards:be(te(Er)),blockTime:Q(v()),blockHeight:Q(v())}))),zu=Pe(Q(K({blockhash:Y(),previousBlockhash:Y(),parentSlot:v(),transactions:te(K({transaction:Hi,meta:Q(Hn),version:be(Gr)})),rewards:be(te(Er)),blockTime:Q(v()),blockHeight:Q(v())}))),Du=Pe(Q(K({blockhash:Y(),previousBlockhash:Y(),parentSlot:v(),transactions:te(K({transaction:Vi,meta:Q(Qs),version:be(Gr)})),rewards:be(te(Er)),blockTime:Q(v()),blockHeight:Q(v())}))),ju=Pe(Q(K({blockhash:Y(),previousBlockhash:Y(),parentSlot:v(),transactions:te(K({transaction:Hi,meta:Q(Qs),version:be(Gr)})),rewards:be(te(Er)),blockTime:Q(v()),blockHeight:Q(v())}))),Hu=Pe(Q(K({blockhash:Y(),previousBlockhash:Y(),parentSlot:v(),rewards:be(te(Er)),blockTime:Q(v()),blockHeight:Q(v())}))),$u=Pe(Q(K({blockhash:Y(),previousBlockhash:Y(),parentSlot:v(),transactions:te(K({transaction:Xs,meta:Q(Hn)})),rewards:be(te(Er)),blockTime:Q(v())}))),Do=Pe(Q(K({blockhash:Y(),previousBlockhash:Y(),parentSlot:v(),signatures:te(Y()),blockTime:Q(v())}))),ws=Pe(Q(K({slot:v(),meta:Q(Hn),blockTime:be(Q(v())),transaction:Xs,version:be(Gr)}))),An=Pe(Q(K({slot:v(),transaction:Vi,meta:Q(Qs),blockTime:be(Q(v())),version:be(Gr)}))),Wu=st(K({blockhash:Y(),feeCalculator:K({lamportsPerSignature:v()})})),Gu=st(K({blockhash:Y(),lastValidBlockHeight:v()})),Vu=st(Vt()),Yu=K({slot:v(),numTransactions:v(),numSlots:v(),samplePeriodSecs:v()}),Zu=Pe(te(Yu)),Ju=st(Q(K({feeCalculator:K({lamportsPerSignature:v()})}))),Xu=Pe(Y()),Qu=Pe(Y()),el=K({err:Sr,logs:te(Y()),signature:Y()}),tl=K({result:jn(el),subscription:v()}),rl={"solana-client":"js/0.0.0-development"};class Zi{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const y={};return async g=>{const{commitment:E,config:C}=Je(g),w=this._buildArgs([],E,void 0,C),_=Mo(w);return y[_]=y[_]??(async()=>{try{const k=await this._rpcRequest("getBlockHeight",w),b=J(k,Pe(v()));if("error"in b)throw new le(b.error,"failed to get block height information");return b.result}finally{delete y[_]}})(),await y[_]}})();let r,s,o,a,f,u;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,o=t.fetch,a=t.fetchMiddleware,f=t.disableRetryOnRateLimit,u=t.httpAgent),this._rpcEndpoint=Df(e),this._rpcWsEndpoint=r||Kf(e),this._rpcClient=tu(e,s,o,a,f,u),this._rpcRequest=ru(this._rpcClient),this._rpcBatchRequest=nu(this._rpcClient),this._rpcWebSocket=new Mf(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgs([e.toBase58()],r,void 0,s),a=await this._rpcRequest("getBalance",o),f=J(a,st(v()));if("error"in f)throw new le(f.error,`failed to get balance for ${e.toBase58()}`);return f.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=J(t,Pe(Q(v())));if("error"in r)throw new le(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=J(e,Pe(v()));if("error"in t)throw new le(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=J(e,uu);if("error"in t)throw new le(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=J(r,lu);if("error"in s)throw new le(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),o=J(s,st(Es));if("error"in o)throw new le(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),o=J(s,st(Es));if("error"in o)throw new le(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:o}=Je(r);let a=[e.toBase58()];"mint"in t?a.push({mint:t.mint.toBase58()}):a.push({programId:t.programId.toBase58()});const f=this._buildArgs(a,s,"base64",o),u=await this._rpcRequest("getTokenAccountsByOwner",f),y=J(u,hu);if("error"in y)throw new le(y.error,`failed to get token accounts owned by account ${e.toBase58()}`);return y.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,r,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",o),f=J(a,pu);if("error"in f)throw new le(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),o=J(s,gu);if("error"in o)throw new le(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),o=J(s,du);if("error"in o)throw new le(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgs([e.toBase58()],r,"base64",s),a=await this._rpcRequest("getAccountInfo",o),f=J(a,st(Q(un)));if("error"in f)throw new le(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",s),a=await this._rpcRequest("getAccountInfo",o),f=J(a,st(Q(ks)));if("error"in f)throw new le(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Je(t),o=e.map(y=>y.toBase58()),a=this._buildArgs([o],r,"jsonParsed",s),f=await this._rpcRequest("getMultipleAccounts",a),u=J(f,st(te(Q(ks))));if("error"in u)throw new le(u.error,`failed to get info for accounts ${o}`);return u.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Je(t),o=e.map(y=>y.toBase58()),a=this._buildArgs([o],r,"base64",s),f=await this._rpcRequest("getMultipleAccounts",a),u=J(f,st(te(Q(un))));if("error"in u)throw new le(u.error,`failed to get info for accounts ${o}`);return u.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:o}=Je(t),a=this._buildArgs([e.toBase58()],s,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),f=await this._rpcRequest("getStakeActivation",a),u=J(f,Pe(wu));if("error"in u)throw new le(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Je(t),{encoding:o,...a}=s||{},f=this._buildArgs([e.toBase58()],r,o||"base64",a),u=await this._rpcRequest("getProgramAccounts",f),y=te(yu),g=a.withContext===!0?J(u,st(y)):J(u,Pe(y));if("error"in g)throw new le(g.error,`failed to get accounts owned by program ${e.toBase58()}`);return g.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",s),a=await this._rpcRequest("getProgramAccounts",o),f=J(a,Pe(te(bu)));if("error"in f)throw new le(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async confirmTransaction(e,t){var o;let r;if(typeof e=="string")r=e;else{const a=e;if((o=a.abortSignal)!=null&&o.aborted)return Promise.reject(a.abortSignal.reason);r=a.signature}let s;try{s=gt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Xe(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,o=!1;const a=new Promise((u,y)=>{try{r=this.onSignature(t,(E,C)=>{r=void 0;const w={context:C,value:E};u({__type:cr.PROCESSED,response:w})},e);const g=new Promise(E=>{r==null?E():s=this._onSubscriptionStateChange(r,C=>{C==="subscribed"&&E()})});(async()=>{if(await g,o)return;const E=await this.getSignatureStatus(t);if(o||E==null)return;const{context:C,value:w}=E;if(w!=null)if(w!=null&&w.err)y(w.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(w.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(w.confirmationStatus==="processed"||w.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,u({__type:cr.PROCESSED,response:{context:C,value:w}})}})()}catch(g){y(g)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let o=!1;const a=new Promise(E=>{const C=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let w=await C();if(!o){for(;w<=r;)if(await Nr(1e3),o||(w=await C(),o))return;E({__type:cr.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:f,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),y=this.getCancellationPromise(t);let g;try{const E=await Promise.race([y,u,a]);if(E.__type===cr.PROCESSED)g=E.response;else throw new Mi(s)}finally{o=!0,f()}return g}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:o,signature:a}}){let f=!1;const u=new Promise(w=>{let _=o,k=null;const b=async()=>{try{const{context:F,value:j}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return k=F.slot,j==null?void 0:j.nonce}catch{return _}};(async()=>{if(_=await b(),!f)for(;;){if(o!==_){w({__type:cr.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await Nr(2e3),f||(_=await b(),f))return}})()}),{abortConfirmation:y,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),E=this.getCancellationPromise(t);let C;try{const w=await Promise.race([E,g,u]);if(w.__type===cr.PROCESSED)C=w.response;else{let _;for(;;){const k=await this.getSignatureStatus(a);if(k==null)break;if(k.context.slot<(w.slotInWhichNonceDidAdvance??r)){await Nr(400);continue}_=k;break}if(_!=null&&_.value){const k=e||"finalized",{confirmationStatus:b}=_.value;switch(k){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new nn(a);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new nn(a);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new nn(a);break;default:}C={context:_.context,value:{err:_.value.err}}}else throw new nn(a)}}finally{f=!0,y()}return C}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(u=>{let y=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{y=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>u({__type:cr.TIMED_OUT,timeoutMs:y}),y)}),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let f;try{const u=await Promise.race([a,s]);if(u.__type===cr.PROCESSED)f=u.response;else throw new Ni(t,u.timeoutMs/1e3)}finally{clearTimeout(r),o()}return f}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=J(e,Pe(te(Cu)));if("error"in t)throw new le(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=J(r,Pu);if("error"in s)throw new le(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Je(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlot",s),a=J(o,Pe(v()));if("error"in a)throw new le(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:t,config:r}=Je(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlotLeader",s),a=J(o,Pe(Y()));if("error"in a)throw new le(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),o=J(s,Pe(te(it)));if("error"in o)throw new le(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Xe(s.length===1);const o=s[0];return{context:r,value:o}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),o=J(s,Ou);if("error"in o)throw new le(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:t,config:r}=Je(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getTransactionCount",s),a=J(o,Pe(v()));if("error"in a)throw new le(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=J(r,su);if("error"in s)throw new le(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:o}=Je(r),a=this._buildArgs([e.map(y=>y.toBase58())],s,void 0,{...o,epoch:t??(o==null?void 0:o.epoch)}),f=await this._rpcRequest("getInflationReward",a),u=J(f,$f);if("error"in u)throw new le(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=J(e,ou);if("error"in t)throw new le(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Je(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getEpochInfo",s),a=J(o,au);if("error"in a)throw new le(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=J(e,cu);if("error"in t)throw new le(t.error,"failed to get epoch schedule");const r=t.result;return new Uf(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=J(e,fu);if("error"in t)throw new le(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=J(s,Mu);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=J(r,Wu);if("error"in s)throw new le(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=J(t,Zu);if("error"in r)throw new le(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=J(s,Ju);if("error"in o)throw new le(o.error,"failed to get fee calculator");const{context:a,value:f}=o.result;return{context:a,value:f!==null?f.feeCalculator:null}}async getFeeForMessage(e,t){const r=Dr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),o=await this._rpcRequest("getFeeForMessage",s),a=J(o,st(Q(v())));if("error"in a)throw new le(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){var a;const t=(a=e==null?void 0:e.lockedWritableAccounts)==null?void 0:a.map(f=>f.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),o=J(s,iu);if("error"in o)throw new le(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Je(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getLatestBlockhash",s),a=J(o,Gu);if("error"in a)throw new le(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgs([e],r,void 0,s),a=await this._rpcRequest("isBlockhashValid",o),f=J(a,Vu);if("error"in f)throw new le(f.error,"failed to determine if the blockhash `"+e+"`is valid");return f.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=J(e,Pe(Qf));if("error"in t)throw new le(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=J(e,Pe(Y()));if("error"in t)throw new le(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,s),a=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const f=J(a,zu);if("error"in f)throw f.error;return f.result}case"none":{const f=J(a,Ku);if("error"in f)throw f.error;return f.result}default:{const f=J(a,qu);if("error"in f)throw f.error;const{result:u}=f;return u?{...u,transactions:u.transactions.map(({transaction:y,meta:g,version:E})=>({meta:g,transaction:{...y,message:bs(E,y.message)},version:E}))}:null}}}catch(f){throw new le(f,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),a=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const f=J(a,ju);if("error"in f)throw f.error;return f.result}case"none":{const f=J(a,Hu);if("error"in f)throw f.error;return f.result}default:{const f=J(a,Du);if("error"in f)throw f.error;return f.result}}}catch(f){throw new le(f,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:f,...u}=e;r=f,t=u}const s=this._buildArgs([],r,"base64",t),o=await this._rpcRequest("getBlockProduction",s),a=J(o,eu);if("error"in a)throw new le(a.error,"failed to get block production information");return a.result}async getTransaction(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,s),a=await this._rpcRequest("getTransaction",o),f=J(a,ws);if("error"in f)throw new le(f.error,"failed to get transaction");const u=f.result;return u&&{...u,transaction:{...u.transaction,message:bs(u.version,u.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Je(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),a=await this._rpcRequest("getTransaction",o),f=J(a,An);if("error"in f)throw new le(f.error,"failed to get transaction");return f.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Je(t),o=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(o)).map(u=>{const y=J(u,An);if("error"in y)throw new le(y.error,"failed to get transactions");return y.result})}async getTransactions(e,t){const{commitment:r,config:s}=Je(t),o=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,void 0,s)}));return(await this._rpcBatchRequest(o)).map(u=>{const y=J(u,ws);if("error"in y)throw new le(y.error,"failed to get transactions");const g=y.result;return g&&{...g,transaction:{...g.transaction,message:bs(g.version,g.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),o=J(s,$u);if("error"in o)throw new le(o.error,"failed to get confirmed block");const a=o.result;if(!a)throw new Error("Confirmed block "+e+" not found");const f={...a,transactions:a.transactions.map(({transaction:u,meta:y})=>{const g=new nr(u.message);return{meta:y,transaction:{...u,message:g}}})};return{...f,transactions:f.transactions.map(({transaction:u,meta:y})=>({meta:y,transaction:fr.populate(u.message,u.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),o=await this._rpcRequest("getBlocks",s),a=J(o,Pe(te(v())));if("error"in a)throw new le(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=J(s,Do);if("error"in o)throw new le(o.error,"failed to get block");const a=o.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),o=J(s,Do);if("error"in o)throw new le(o.error,"failed to get confirmed block");const a=o.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),o=J(s,ws);if("error"in o)throw new le(o.error,"failed to get transaction");const a=o.result;if(!a)return a;const f=new nr(a.transaction.message),u=a.transaction.signatures;return{...a,transaction:fr.populate(f,u)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),o=J(s,An);if("error"in o)throw new le(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,t){const r=e.map(a=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([a],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(a=>{const f=J(a,An);if("error"in f)throw new le(f.error,"failed to get confirmed transactions");return f.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},o=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<o));)try{const u=await this.getConfirmedBlockSignatures(t,"finalized");u.signatures.length>0&&(s.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let a=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>a));)try{const u=await this.getConfirmedBlockSignatures(r);u.signatures.length>0&&(s.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),a=J(o,mu);if("error"in a)throw new le(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",s),a=J(o,vu);if("error"in a)throw new le(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let o=null;return s!==null&&(o=new qo({key:e,state:qo.deserialize(s.data)})),{context:r,value:o}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let o=null;return s!==null&&(o=Zs.fromAccountData(s.data)),{context:r,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=J(r,Xu);if("error"in s)throw new le(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Nr(100);const r=Date.now()-this._blockhashInfo.lastFetch>=zf;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Nr(Af/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Je(e),s=this._buildArgs([],t,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",s),a=J(o,st(v()));if("error"in a)throw new le(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,t,r){if("message"in e){const k=e.serialize(),b=Le.Buffer.from(k).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const F=t||{};F.encoding="base64","commitment"in F||(F.commitment=this.commitment);const j=[b,F],T=await this._rpcRequest("simulateTransaction",j),N=J(T,Ko);if("error"in N)throw new Error("failed to simulate transaction: "+N.error.message);return N.result}let s;if(e instanceof fr){let _=e;s=new fr,s.feePayer=_.feePayer,s.instructions=e.instructions,s.nonceInfo=_.nonceInfo,s.signatures=_.signatures}else s=fr.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(s.nonceInfo&&o)s.sign(...o);else{let _=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(_);if(s.lastValidBlockHeight=k.lastValidBlockHeight,s.recentBlockhash=k.blockhash,!o)break;if(s.sign(...o),!s.signature)throw new Error("!signature");const b=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else _=!0}}const a=s._compile(),f=a.serialize(),y=s._serialize(f).toString("base64"),g={encoding:"base64",commitment:this.commitment};if(r){const _=(Array.isArray(r)?r:a.nonProgramIds()).map(k=>k.toBase58());g.accounts={encoding:"base64",addresses:_}}o&&(g.sigVerify=!0);const E=[y,g],C=await this._rpcRequest("simulateTransaction",E),w=J(C,Ko);if("error"in w){let _;if("data"in w.error&&(_=w.error.data.logs,_&&Array.isArray(_))){const k=`
    `,b=k+_.join(k);console.error(w.error.message,b)}throw new No("failed to simulate transaction: "+w.error.message,_)}return w.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const a=e.serialize();return await this.sendRawTransaction(a,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let a=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=f.lastValidBlockHeight,e.recentBlockhash=f.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))a=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,t){const r=Dr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,o=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),o&&(r.preflightCommitment=o);const a=[e,r],f=await this._rpcRequest("sendTransaction",a),u=J(f,Qu);if("error"in u){let y;throw"data"in u.error&&(y=u.error.data.logs),new No("failed to send transaction: "+u.error.message,y)}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(a=>{try{a(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:a}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const f=await this._rpcWebSocket.call(a,o);this._setSubscription(r,{...s,serverSubscriptionId:f,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[f]=s.callbacks,await this._updateSubscriptions()}catch(f){if(f instanceof Error&&console.error(`${a} error for argument`,o,f.message),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:a}=s;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[o])}catch(f){if(f instanceof Error&&console.error(`${a} error:`,f.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=J(e,_u);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Mo([e.method,t],!0),o=this._subscriptionsByHash[s];return o===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const a=this._subscriptionsByHash[s];Xe(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=J(e,Eu);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=J(e,tl);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=J(e,ku);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=J(e,Iu);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const o=t||this._commitment;if(o||r||s){let a={};r&&(a.encoding=r),o&&(a.commitment=o),s&&(a=Object.assign(a,s)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=J(e,Ru);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(a,f)=>{if(a.type==="status"){t(a.result,f);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}onSignatureWithOptions(e,t,r){const{commitment:s,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},a=this._buildArgs([e],s,void 0,o),f=this._makeSubscription({callback:(u,y)=>{t(u,y);try{this.removeSignatureListener(f)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return f}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=J(e,Tu);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class on{constructor(e){this._keypair=void 0,this._keypair=e??Po()}static generate(){return new on(Po())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),o=Ss(s);for(let a=0;a<32;a++)if(r[a]!==o[a])throw new Error("provided secretKey is invalid")}return new on({publicKey:r,secretKey:e})}static fromSeed(e){const t=Ss(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new on({publicKey:t,secretKey:r})}get publicKey(){return new xe(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ue([ye("instruction"),jr("recentSlot"),He("bumpSeed")])},FreezeLookupTable:{index:1,layout:ue([ye("instruction")])},ExtendLookupTable:{index:2,layout:ue([ye("instruction"),jr(),St(Oe(),mr(ye(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ue([ye("instruction")])},CloseLookupTable:{index:4,layout:ue([ye("instruction")])}});new xe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ue([He("instruction"),ye("units"),ye("additionalFee")])},RequestHeapFrame:{index:1,layout:ue([He("instruction"),ye("bytes")])},SetComputeUnitLimit:{index:2,layout:ue([He("instruction"),ye("units")])},SetComputeUnitPrice:{index:3,layout:ue([He("instruction"),jr("microLamports")])}});new xe("ComputeBudget111111111111111111111111111111");ue([He("numSignatures"),He("padding"),Nt("signatureOffset"),Nt("signatureInstructionIndex"),Nt("publicKeyOffset"),Nt("publicKeyInstructionIndex"),Nt("messageDataOffset"),Nt("messageDataSize"),Nt("messageInstructionIndex")]);new xe("Ed25519SigVerify111111111111111111111111111");Ho.utils.isValidPrivateKey;Ho.getPublicKey;ue([He("numSignatures"),Nt("signatureOffset"),He("signatureInstructionIndex"),Nt("ethAddressOffset"),He("ethAddressInstructionIndex"),Nt("messageDataOffset"),Nt("messageDataSize"),He("messageInstructionIndex"),Ze(20,"ethAddress"),Ze(64,"signature"),He("recoveryId")]);new xe("KeccakSecp256k11111111111111111111111111111");var Ji;new xe("StakeConfig11111111111111111111111111111111");class Xi{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Ji=Xi;Xi.default=new Ji(0,0,xe.default);Object.freeze({Initialize:{index:0,layout:ue([ye("instruction"),xf(),bf()])},Authorize:{index:1,layout:ue([ye("instruction"),Oe("newAuthorized"),ye("stakeAuthorizationType")])},Delegate:{index:2,layout:ue([ye("instruction")])},Split:{index:3,layout:ue([ye("instruction"),Ct("lamports")])},Withdraw:{index:4,layout:ue([ye("instruction"),Ct("lamports")])},Deactivate:{index:5,layout:ue([ye("instruction")])},Merge:{index:7,layout:ue([ye("instruction")])},AuthorizeWithSeed:{index:8,layout:ue([ye("instruction"),Oe("newAuthorized"),ye("stakeAuthorizationType"),Fr("authoritySeed"),Oe("authorityOwner")])}});new xe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ue([ye("instruction"),wf()])},Authorize:{index:1,layout:ue([ye("instruction"),Oe("newAuthorized"),ye("voteAuthorizationType")])},Withdraw:{index:3,layout:ue([ye("instruction"),Ct("lamports")])},AuthorizeWithSeed:{index:10,layout:ue([ye("instruction"),mf()])}});new xe("Vote111111111111111111111111111111111111111");new xe("Va1idator1nfo111111111111111111111111111111");K({name:Y(),website:be(Y()),details:be(Y()),keybaseUsername:be(Y())});new xe("Vote111111111111111111111111111111111111111");ue([Oe("nodePubkey"),Oe("authorizedWithdrawer"),He("commission"),ht(),St(ue([ht("slot"),ye("confirmationCount")]),mr(ye(),-8),"votes"),He("rootSlotValid"),ht("rootSlot"),ht(),St(ue([ht("epoch"),Oe("authorizedVoter")]),mr(ye(),-8),"authorizedVoters"),ue([St(ue([Oe("authorizedPubkey"),ht("epochOfLastAuthorizedSwitch"),ht("targetEpoch")]),32,"buf"),ht("idx"),He("isEmpty")],"priorVoters"),ht(),St(ue([ht("epoch"),ht("credits"),ht("prevCredits")]),mr(ye(),-8),"epochCredits"),ue([ht("slot"),ht("timestamp")],"lastTimestamp")]);var Qi={exports:{}};(function(n){(function(e){var t=function(c){var d,l=new Float64Array(16);if(c)for(d=0;d<c.length;d++)l[d]=c[d];return l},r=function(){throw new Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),f=t([1]),u=t([56129,1]),y=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),g=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),E=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),C=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(c,d,l,i){c[d]=l>>24&255,c[d+1]=l>>16&255,c[d+2]=l>>8&255,c[d+3]=l&255,c[d+4]=i>>24&255,c[d+5]=i>>16&255,c[d+6]=i>>8&255,c[d+7]=i&255}function k(c,d,l,i,h){var x,m=0;for(x=0;x<h;x++)m|=c[d+x]^l[i+x];return(1&m-1>>>8)-1}function b(c,d,l,i){return k(c,d,l,i,16)}function F(c,d,l,i){return k(c,d,l,i,32)}function j(c,d,l,i){for(var h=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,x=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,m=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,O=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,H=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,fe=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,ee=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,qe=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,se=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,we=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24,me=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,Ae=l[16]&255|(l[17]&255)<<8|(l[18]&255)<<16|(l[19]&255)<<24,Ee=l[20]&255|(l[21]&255)<<8|(l[22]&255)<<16|(l[23]&255)<<24,ve=l[24]&255|(l[25]&255)<<8|(l[26]&255)<<16|(l[27]&255)<<24,Se=l[28]&255|(l[29]&255)<<8|(l[30]&255)<<16|(l[31]&255)<<24,_e=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,oe=h,pe=x,ne=m,ie=O,ce=H,X=fe,I=ee,R=qe,q=se,U=we,M=me,D=Ae,ge=Ee,ke=ve,Re=Se,Be=_e,p,Ue=0;Ue<20;Ue+=2)p=oe+ge|0,ce^=p<<7|p>>>25,p=ce+oe|0,q^=p<<9|p>>>23,p=q+ce|0,ge^=p<<13|p>>>19,p=ge+q|0,oe^=p<<18|p>>>14,p=X+pe|0,U^=p<<7|p>>>25,p=U+X|0,ke^=p<<9|p>>>23,p=ke+U|0,pe^=p<<13|p>>>19,p=pe+ke|0,X^=p<<18|p>>>14,p=M+I|0,Re^=p<<7|p>>>25,p=Re+M|0,ne^=p<<9|p>>>23,p=ne+Re|0,I^=p<<13|p>>>19,p=I+ne|0,M^=p<<18|p>>>14,p=Be+D|0,ie^=p<<7|p>>>25,p=ie+Be|0,R^=p<<9|p>>>23,p=R+ie|0,D^=p<<13|p>>>19,p=D+R|0,Be^=p<<18|p>>>14,p=oe+ie|0,pe^=p<<7|p>>>25,p=pe+oe|0,ne^=p<<9|p>>>23,p=ne+pe|0,ie^=p<<13|p>>>19,p=ie+ne|0,oe^=p<<18|p>>>14,p=X+ce|0,I^=p<<7|p>>>25,p=I+X|0,R^=p<<9|p>>>23,p=R+I|0,ce^=p<<13|p>>>19,p=ce+R|0,X^=p<<18|p>>>14,p=M+U|0,D^=p<<7|p>>>25,p=D+M|0,q^=p<<9|p>>>23,p=q+D|0,U^=p<<13|p>>>19,p=U+q|0,M^=p<<18|p>>>14,p=Be+Re|0,ge^=p<<7|p>>>25,p=ge+Be|0,ke^=p<<9|p>>>23,p=ke+ge|0,Re^=p<<13|p>>>19,p=Re+ke|0,Be^=p<<18|p>>>14;oe=oe+h|0,pe=pe+x|0,ne=ne+m|0,ie=ie+O|0,ce=ce+H|0,X=X+fe|0,I=I+ee|0,R=R+qe|0,q=q+se|0,U=U+we|0,M=M+me|0,D=D+Ae|0,ge=ge+Ee|0,ke=ke+ve|0,Re=Re+Se|0,Be=Be+_e|0,c[0]=oe>>>0&255,c[1]=oe>>>8&255,c[2]=oe>>>16&255,c[3]=oe>>>24&255,c[4]=pe>>>0&255,c[5]=pe>>>8&255,c[6]=pe>>>16&255,c[7]=pe>>>24&255,c[8]=ne>>>0&255,c[9]=ne>>>8&255,c[10]=ne>>>16&255,c[11]=ne>>>24&255,c[12]=ie>>>0&255,c[13]=ie>>>8&255,c[14]=ie>>>16&255,c[15]=ie>>>24&255,c[16]=ce>>>0&255,c[17]=ce>>>8&255,c[18]=ce>>>16&255,c[19]=ce>>>24&255,c[20]=X>>>0&255,c[21]=X>>>8&255,c[22]=X>>>16&255,c[23]=X>>>24&255,c[24]=I>>>0&255,c[25]=I>>>8&255,c[26]=I>>>16&255,c[27]=I>>>24&255,c[28]=R>>>0&255,c[29]=R>>>8&255,c[30]=R>>>16&255,c[31]=R>>>24&255,c[32]=q>>>0&255,c[33]=q>>>8&255,c[34]=q>>>16&255,c[35]=q>>>24&255,c[36]=U>>>0&255,c[37]=U>>>8&255,c[38]=U>>>16&255,c[39]=U>>>24&255,c[40]=M>>>0&255,c[41]=M>>>8&255,c[42]=M>>>16&255,c[43]=M>>>24&255,c[44]=D>>>0&255,c[45]=D>>>8&255,c[46]=D>>>16&255,c[47]=D>>>24&255,c[48]=ge>>>0&255,c[49]=ge>>>8&255,c[50]=ge>>>16&255,c[51]=ge>>>24&255,c[52]=ke>>>0&255,c[53]=ke>>>8&255,c[54]=ke>>>16&255,c[55]=ke>>>24&255,c[56]=Re>>>0&255,c[57]=Re>>>8&255,c[58]=Re>>>16&255,c[59]=Re>>>24&255,c[60]=Be>>>0&255,c[61]=Be>>>8&255,c[62]=Be>>>16&255,c[63]=Be>>>24&255}function T(c,d,l,i){for(var h=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,x=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,m=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,O=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,H=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,fe=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,ee=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,qe=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,se=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,we=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24,me=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,Ae=l[16]&255|(l[17]&255)<<8|(l[18]&255)<<16|(l[19]&255)<<24,Ee=l[20]&255|(l[21]&255)<<8|(l[22]&255)<<16|(l[23]&255)<<24,ve=l[24]&255|(l[25]&255)<<8|(l[26]&255)<<16|(l[27]&255)<<24,Se=l[28]&255|(l[29]&255)<<8|(l[30]&255)<<16|(l[31]&255)<<24,_e=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,oe=h,pe=x,ne=m,ie=O,ce=H,X=fe,I=ee,R=qe,q=se,U=we,M=me,D=Ae,ge=Ee,ke=ve,Re=Se,Be=_e,p,Ue=0;Ue<20;Ue+=2)p=oe+ge|0,ce^=p<<7|p>>>25,p=ce+oe|0,q^=p<<9|p>>>23,p=q+ce|0,ge^=p<<13|p>>>19,p=ge+q|0,oe^=p<<18|p>>>14,p=X+pe|0,U^=p<<7|p>>>25,p=U+X|0,ke^=p<<9|p>>>23,p=ke+U|0,pe^=p<<13|p>>>19,p=pe+ke|0,X^=p<<18|p>>>14,p=M+I|0,Re^=p<<7|p>>>25,p=Re+M|0,ne^=p<<9|p>>>23,p=ne+Re|0,I^=p<<13|p>>>19,p=I+ne|0,M^=p<<18|p>>>14,p=Be+D|0,ie^=p<<7|p>>>25,p=ie+Be|0,R^=p<<9|p>>>23,p=R+ie|0,D^=p<<13|p>>>19,p=D+R|0,Be^=p<<18|p>>>14,p=oe+ie|0,pe^=p<<7|p>>>25,p=pe+oe|0,ne^=p<<9|p>>>23,p=ne+pe|0,ie^=p<<13|p>>>19,p=ie+ne|0,oe^=p<<18|p>>>14,p=X+ce|0,I^=p<<7|p>>>25,p=I+X|0,R^=p<<9|p>>>23,p=R+I|0,ce^=p<<13|p>>>19,p=ce+R|0,X^=p<<18|p>>>14,p=M+U|0,D^=p<<7|p>>>25,p=D+M|0,q^=p<<9|p>>>23,p=q+D|0,U^=p<<13|p>>>19,p=U+q|0,M^=p<<18|p>>>14,p=Be+Re|0,ge^=p<<7|p>>>25,p=ge+Be|0,ke^=p<<9|p>>>23,p=ke+ge|0,Re^=p<<13|p>>>19,p=Re+ke|0,Be^=p<<18|p>>>14;c[0]=oe>>>0&255,c[1]=oe>>>8&255,c[2]=oe>>>16&255,c[3]=oe>>>24&255,c[4]=X>>>0&255,c[5]=X>>>8&255,c[6]=X>>>16&255,c[7]=X>>>24&255,c[8]=M>>>0&255,c[9]=M>>>8&255,c[10]=M>>>16&255,c[11]=M>>>24&255,c[12]=Be>>>0&255,c[13]=Be>>>8&255,c[14]=Be>>>16&255,c[15]=Be>>>24&255,c[16]=I>>>0&255,c[17]=I>>>8&255,c[18]=I>>>16&255,c[19]=I>>>24&255,c[20]=R>>>0&255,c[21]=R>>>8&255,c[22]=R>>>16&255,c[23]=R>>>24&255,c[24]=q>>>0&255,c[25]=q>>>8&255,c[26]=q>>>16&255,c[27]=q>>>24&255,c[28]=U>>>0&255,c[29]=U>>>8&255,c[30]=U>>>16&255,c[31]=U>>>24&255}function N(c,d,l,i){j(c,d,l,i)}function z(c,d,l,i){T(c,d,l,i)}var L=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function re(c,d,l,i,h,x,m){var O=new Uint8Array(16),H=new Uint8Array(64),fe,ee;for(ee=0;ee<16;ee++)O[ee]=0;for(ee=0;ee<8;ee++)O[ee]=x[ee];for(;h>=64;){for(N(H,O,m,L),ee=0;ee<64;ee++)c[d+ee]=l[i+ee]^H[ee];for(fe=1,ee=8;ee<16;ee++)fe=fe+(O[ee]&255)|0,O[ee]=fe&255,fe>>>=8;h-=64,d+=64,i+=64}if(h>0)for(N(H,O,m,L),ee=0;ee<h;ee++)c[d+ee]=l[i+ee]^H[ee];return 0}function V(c,d,l,i,h){var x=new Uint8Array(16),m=new Uint8Array(64),O,H;for(H=0;H<16;H++)x[H]=0;for(H=0;H<8;H++)x[H]=i[H];for(;l>=64;){for(N(m,x,h,L),H=0;H<64;H++)c[d+H]=m[H];for(O=1,H=8;H<16;H++)O=O+(x[H]&255)|0,x[H]=O&255,O>>>=8;l-=64,d+=64}if(l>0)for(N(m,x,h,L),H=0;H<l;H++)c[d+H]=m[H];return 0}function de(c,d,l,i,h){var x=new Uint8Array(32);z(x,i,h,L);for(var m=new Uint8Array(8),O=0;O<8;O++)m[O]=i[O+16];return V(c,d,l,m,x)}function De(c,d,l,i,h,x,m){var O=new Uint8Array(32);z(O,x,m,L);for(var H=new Uint8Array(8),fe=0;fe<8;fe++)H[fe]=x[fe+16];return re(c,d,l,i,h,H,O)}var Ye=function(c){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var d,l,i,h,x,m,O,H;d=c[0]&255|(c[1]&255)<<8,this.r[0]=d&8191,l=c[2]&255|(c[3]&255)<<8,this.r[1]=(d>>>13|l<<3)&8191,i=c[4]&255|(c[5]&255)<<8,this.r[2]=(l>>>10|i<<6)&7939,h=c[6]&255|(c[7]&255)<<8,this.r[3]=(i>>>7|h<<9)&8191,x=c[8]&255|(c[9]&255)<<8,this.r[4]=(h>>>4|x<<12)&255,this.r[5]=x>>>1&8190,m=c[10]&255|(c[11]&255)<<8,this.r[6]=(x>>>14|m<<2)&8191,O=c[12]&255|(c[13]&255)<<8,this.r[7]=(m>>>11|O<<5)&8065,H=c[14]&255|(c[15]&255)<<8,this.r[8]=(O>>>8|H<<8)&8191,this.r[9]=H>>>5&127,this.pad[0]=c[16]&255|(c[17]&255)<<8,this.pad[1]=c[18]&255|(c[19]&255)<<8,this.pad[2]=c[20]&255|(c[21]&255)<<8,this.pad[3]=c[22]&255|(c[23]&255)<<8,this.pad[4]=c[24]&255|(c[25]&255)<<8,this.pad[5]=c[26]&255|(c[27]&255)<<8,this.pad[6]=c[28]&255|(c[29]&255)<<8,this.pad[7]=c[30]&255|(c[31]&255)<<8};Ye.prototype.blocks=function(c,d,l){for(var i=this.fin?0:2048,h,x,m,O,H,fe,ee,qe,se,we,me,Ae,Ee,ve,Se,_e,oe,pe,ne,ie=this.h[0],ce=this.h[1],X=this.h[2],I=this.h[3],R=this.h[4],q=this.h[5],U=this.h[6],M=this.h[7],D=this.h[8],ge=this.h[9],ke=this.r[0],Re=this.r[1],Be=this.r[2],p=this.r[3],Ue=this.r[4],Ke=this.r[5],ze=this.r[6],Te=this.r[7],Me=this.r[8],Ne=this.r[9];l>=16;)h=c[d+0]&255|(c[d+1]&255)<<8,ie+=h&8191,x=c[d+2]&255|(c[d+3]&255)<<8,ce+=(h>>>13|x<<3)&8191,m=c[d+4]&255|(c[d+5]&255)<<8,X+=(x>>>10|m<<6)&8191,O=c[d+6]&255|(c[d+7]&255)<<8,I+=(m>>>7|O<<9)&8191,H=c[d+8]&255|(c[d+9]&255)<<8,R+=(O>>>4|H<<12)&8191,q+=H>>>1&8191,fe=c[d+10]&255|(c[d+11]&255)<<8,U+=(H>>>14|fe<<2)&8191,ee=c[d+12]&255|(c[d+13]&255)<<8,M+=(fe>>>11|ee<<5)&8191,qe=c[d+14]&255|(c[d+15]&255)<<8,D+=(ee>>>8|qe<<8)&8191,ge+=qe>>>5|i,se=0,we=se,we+=ie*ke,we+=ce*(5*Ne),we+=X*(5*Me),we+=I*(5*Te),we+=R*(5*ze),se=we>>>13,we&=8191,we+=q*(5*Ke),we+=U*(5*Ue),we+=M*(5*p),we+=D*(5*Be),we+=ge*(5*Re),se+=we>>>13,we&=8191,me=se,me+=ie*Re,me+=ce*ke,me+=X*(5*Ne),me+=I*(5*Me),me+=R*(5*Te),se=me>>>13,me&=8191,me+=q*(5*ze),me+=U*(5*Ke),me+=M*(5*Ue),me+=D*(5*p),me+=ge*(5*Be),se+=me>>>13,me&=8191,Ae=se,Ae+=ie*Be,Ae+=ce*Re,Ae+=X*ke,Ae+=I*(5*Ne),Ae+=R*(5*Me),se=Ae>>>13,Ae&=8191,Ae+=q*(5*Te),Ae+=U*(5*ze),Ae+=M*(5*Ke),Ae+=D*(5*Ue),Ae+=ge*(5*p),se+=Ae>>>13,Ae&=8191,Ee=se,Ee+=ie*p,Ee+=ce*Be,Ee+=X*Re,Ee+=I*ke,Ee+=R*(5*Ne),se=Ee>>>13,Ee&=8191,Ee+=q*(5*Me),Ee+=U*(5*Te),Ee+=M*(5*ze),Ee+=D*(5*Ke),Ee+=ge*(5*Ue),se+=Ee>>>13,Ee&=8191,ve=se,ve+=ie*Ue,ve+=ce*p,ve+=X*Be,ve+=I*Re,ve+=R*ke,se=ve>>>13,ve&=8191,ve+=q*(5*Ne),ve+=U*(5*Me),ve+=M*(5*Te),ve+=D*(5*ze),ve+=ge*(5*Ke),se+=ve>>>13,ve&=8191,Se=se,Se+=ie*Ke,Se+=ce*Ue,Se+=X*p,Se+=I*Be,Se+=R*Re,se=Se>>>13,Se&=8191,Se+=q*ke,Se+=U*(5*Ne),Se+=M*(5*Me),Se+=D*(5*Te),Se+=ge*(5*ze),se+=Se>>>13,Se&=8191,_e=se,_e+=ie*ze,_e+=ce*Ke,_e+=X*Ue,_e+=I*p,_e+=R*Be,se=_e>>>13,_e&=8191,_e+=q*Re,_e+=U*ke,_e+=M*(5*Ne),_e+=D*(5*Me),_e+=ge*(5*Te),se+=_e>>>13,_e&=8191,oe=se,oe+=ie*Te,oe+=ce*ze,oe+=X*Ke,oe+=I*Ue,oe+=R*p,se=oe>>>13,oe&=8191,oe+=q*Be,oe+=U*Re,oe+=M*ke,oe+=D*(5*Ne),oe+=ge*(5*Me),se+=oe>>>13,oe&=8191,pe=se,pe+=ie*Me,pe+=ce*Te,pe+=X*ze,pe+=I*Ke,pe+=R*Ue,se=pe>>>13,pe&=8191,pe+=q*p,pe+=U*Be,pe+=M*Re,pe+=D*ke,pe+=ge*(5*Ne),se+=pe>>>13,pe&=8191,ne=se,ne+=ie*Ne,ne+=ce*Me,ne+=X*Te,ne+=I*ze,ne+=R*Ke,se=ne>>>13,ne&=8191,ne+=q*Ue,ne+=U*p,ne+=M*Be,ne+=D*Re,ne+=ge*ke,se+=ne>>>13,ne&=8191,se=(se<<2)+se|0,se=se+we|0,we=se&8191,se=se>>>13,me+=se,ie=we,ce=me,X=Ae,I=Ee,R=ve,q=Se,U=_e,M=oe,D=pe,ge=ne,d+=16,l-=16;this.h[0]=ie,this.h[1]=ce,this.h[2]=X,this.h[3]=I,this.h[4]=R,this.h[5]=q,this.h[6]=U,this.h[7]=M,this.h[8]=D,this.h[9]=ge},Ye.prototype.finish=function(c,d){var l=new Uint16Array(10),i,h,x,m;if(this.leftover){for(m=this.leftover,this.buffer[m++]=1;m<16;m++)this.buffer[m]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(i=this.h[1]>>>13,this.h[1]&=8191,m=2;m<10;m++)this.h[m]+=i,i=this.h[m]>>>13,this.h[m]&=8191;for(this.h[0]+=i*5,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,l[0]=this.h[0]+5,i=l[0]>>>13,l[0]&=8191,m=1;m<10;m++)l[m]=this.h[m]+i,i=l[m]>>>13,l[m]&=8191;for(l[9]-=8192,h=(i^1)-1,m=0;m<10;m++)l[m]&=h;for(h=~h,m=0;m<10;m++)this.h[m]=this.h[m]&h|l[m];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,x=this.h[0]+this.pad[0],this.h[0]=x&65535,m=1;m<8;m++)x=(this.h[m]+this.pad[m]|0)+(x>>>16)|0,this.h[m]=x&65535;c[d+0]=this.h[0]>>>0&255,c[d+1]=this.h[0]>>>8&255,c[d+2]=this.h[1]>>>0&255,c[d+3]=this.h[1]>>>8&255,c[d+4]=this.h[2]>>>0&255,c[d+5]=this.h[2]>>>8&255,c[d+6]=this.h[3]>>>0&255,c[d+7]=this.h[3]>>>8&255,c[d+8]=this.h[4]>>>0&255,c[d+9]=this.h[4]>>>8&255,c[d+10]=this.h[5]>>>0&255,c[d+11]=this.h[5]>>>8&255,c[d+12]=this.h[6]>>>0&255,c[d+13]=this.h[6]>>>8&255,c[d+14]=this.h[7]>>>0&255,c[d+15]=this.h[7]>>>8&255},Ye.prototype.update=function(c,d,l){var i,h;if(this.leftover){for(h=16-this.leftover,h>l&&(h=l),i=0;i<h;i++)this.buffer[this.leftover+i]=c[d+i];if(l-=h,d+=h,this.leftover+=h,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(l>=16&&(h=l-l%16,this.blocks(c,d,h),d+=h,l-=h),l){for(i=0;i<l;i++)this.buffer[this.leftover+i]=c[d+i];this.leftover+=l}};function at(c,d,l,i,h,x){var m=new Ye(x);return m.update(l,i,h),m.finish(c,d),0}function ft(c,d,l,i,h,x){var m=new Uint8Array(16);return at(m,0,l,i,h,x),b(c,d,m,0)}function Ot(c,d,l,i,h){var x;if(l<32)return-1;for(De(c,0,d,0,l,i,h),at(c,16,c,32,l-32,c),x=0;x<16;x++)c[x]=0;return 0}function Bt(c,d,l,i,h){var x,m=new Uint8Array(32);if(l<32||(de(m,0,32,i,h),ft(d,16,d,32,l-32,m)!==0))return-1;for(De(c,0,d,0,l,i,h),x=0;x<32;x++)c[x]=0;return 0}function ut(c,d){var l;for(l=0;l<16;l++)c[l]=d[l]|0}function Dt(c){var d,l,i=1;for(d=0;d<16;d++)l=c[d]+i+65535,i=Math.floor(l/65536),c[d]=l-i*65536;c[0]+=i-1+37*(i-1)}function ae(c,d,l){for(var i,h=~(l-1),x=0;x<16;x++)i=h&(c[x]^d[x]),c[x]^=i,d[x]^=i}function S(c,d){var l,i,h,x=t(),m=t();for(l=0;l<16;l++)m[l]=d[l];for(Dt(m),Dt(m),Dt(m),i=0;i<2;i++){for(x[0]=m[0]-65517,l=1;l<15;l++)x[l]=m[l]-65535-(x[l-1]>>16&1),x[l-1]&=65535;x[15]=m[15]-32767-(x[14]>>16&1),h=x[15]>>16&1,x[14]&=65535,ae(m,x,1-h)}for(l=0;l<16;l++)c[2*l]=m[l]&255,c[2*l+1]=m[l]>>8}function B(c,d){var l=new Uint8Array(32),i=new Uint8Array(32);return S(l,c),S(i,d),F(l,0,i,0)}function P(c){var d=new Uint8Array(32);return S(d,c),d[0]&1}function G(c,d){var l;for(l=0;l<16;l++)c[l]=d[2*l]+(d[2*l+1]<<8);c[15]&=32767}function W(c,d,l){for(var i=0;i<16;i++)c[i]=d[i]+l[i]}function $(c,d,l){for(var i=0;i<16;i++)c[i]=d[i]-l[i]}function Z(c,d,l){var i,h,x=0,m=0,O=0,H=0,fe=0,ee=0,qe=0,se=0,we=0,me=0,Ae=0,Ee=0,ve=0,Se=0,_e=0,oe=0,pe=0,ne=0,ie=0,ce=0,X=0,I=0,R=0,q=0,U=0,M=0,D=0,ge=0,ke=0,Re=0,Be=0,p=l[0],Ue=l[1],Ke=l[2],ze=l[3],Te=l[4],Me=l[5],Ne=l[6],ot=l[7],$e=l[8],tt=l[9],rt=l[10],nt=l[11],ct=l[12],yt=l[13],xt=l[14],bt=l[15];i=d[0],x+=i*p,m+=i*Ue,O+=i*Ke,H+=i*ze,fe+=i*Te,ee+=i*Me,qe+=i*Ne,se+=i*ot,we+=i*$e,me+=i*tt,Ae+=i*rt,Ee+=i*nt,ve+=i*ct,Se+=i*yt,_e+=i*xt,oe+=i*bt,i=d[1],m+=i*p,O+=i*Ue,H+=i*Ke,fe+=i*ze,ee+=i*Te,qe+=i*Me,se+=i*Ne,we+=i*ot,me+=i*$e,Ae+=i*tt,Ee+=i*rt,ve+=i*nt,Se+=i*ct,_e+=i*yt,oe+=i*xt,pe+=i*bt,i=d[2],O+=i*p,H+=i*Ue,fe+=i*Ke,ee+=i*ze,qe+=i*Te,se+=i*Me,we+=i*Ne,me+=i*ot,Ae+=i*$e,Ee+=i*tt,ve+=i*rt,Se+=i*nt,_e+=i*ct,oe+=i*yt,pe+=i*xt,ne+=i*bt,i=d[3],H+=i*p,fe+=i*Ue,ee+=i*Ke,qe+=i*ze,se+=i*Te,we+=i*Me,me+=i*Ne,Ae+=i*ot,Ee+=i*$e,ve+=i*tt,Se+=i*rt,_e+=i*nt,oe+=i*ct,pe+=i*yt,ne+=i*xt,ie+=i*bt,i=d[4],fe+=i*p,ee+=i*Ue,qe+=i*Ke,se+=i*ze,we+=i*Te,me+=i*Me,Ae+=i*Ne,Ee+=i*ot,ve+=i*$e,Se+=i*tt,_e+=i*rt,oe+=i*nt,pe+=i*ct,ne+=i*yt,ie+=i*xt,ce+=i*bt,i=d[5],ee+=i*p,qe+=i*Ue,se+=i*Ke,we+=i*ze,me+=i*Te,Ae+=i*Me,Ee+=i*Ne,ve+=i*ot,Se+=i*$e,_e+=i*tt,oe+=i*rt,pe+=i*nt,ne+=i*ct,ie+=i*yt,ce+=i*xt,X+=i*bt,i=d[6],qe+=i*p,se+=i*Ue,we+=i*Ke,me+=i*ze,Ae+=i*Te,Ee+=i*Me,ve+=i*Ne,Se+=i*ot,_e+=i*$e,oe+=i*tt,pe+=i*rt,ne+=i*nt,ie+=i*ct,ce+=i*yt,X+=i*xt,I+=i*bt,i=d[7],se+=i*p,we+=i*Ue,me+=i*Ke,Ae+=i*ze,Ee+=i*Te,ve+=i*Me,Se+=i*Ne,_e+=i*ot,oe+=i*$e,pe+=i*tt,ne+=i*rt,ie+=i*nt,ce+=i*ct,X+=i*yt,I+=i*xt,R+=i*bt,i=d[8],we+=i*p,me+=i*Ue,Ae+=i*Ke,Ee+=i*ze,ve+=i*Te,Se+=i*Me,_e+=i*Ne,oe+=i*ot,pe+=i*$e,ne+=i*tt,ie+=i*rt,ce+=i*nt,X+=i*ct,I+=i*yt,R+=i*xt,q+=i*bt,i=d[9],me+=i*p,Ae+=i*Ue,Ee+=i*Ke,ve+=i*ze,Se+=i*Te,_e+=i*Me,oe+=i*Ne,pe+=i*ot,ne+=i*$e,ie+=i*tt,ce+=i*rt,X+=i*nt,I+=i*ct,R+=i*yt,q+=i*xt,U+=i*bt,i=d[10],Ae+=i*p,Ee+=i*Ue,ve+=i*Ke,Se+=i*ze,_e+=i*Te,oe+=i*Me,pe+=i*Ne,ne+=i*ot,ie+=i*$e,ce+=i*tt,X+=i*rt,I+=i*nt,R+=i*ct,q+=i*yt,U+=i*xt,M+=i*bt,i=d[11],Ee+=i*p,ve+=i*Ue,Se+=i*Ke,_e+=i*ze,oe+=i*Te,pe+=i*Me,ne+=i*Ne,ie+=i*ot,ce+=i*$e,X+=i*tt,I+=i*rt,R+=i*nt,q+=i*ct,U+=i*yt,M+=i*xt,D+=i*bt,i=d[12],ve+=i*p,Se+=i*Ue,_e+=i*Ke,oe+=i*ze,pe+=i*Te,ne+=i*Me,ie+=i*Ne,ce+=i*ot,X+=i*$e,I+=i*tt,R+=i*rt,q+=i*nt,U+=i*ct,M+=i*yt,D+=i*xt,ge+=i*bt,i=d[13],Se+=i*p,_e+=i*Ue,oe+=i*Ke,pe+=i*ze,ne+=i*Te,ie+=i*Me,ce+=i*Ne,X+=i*ot,I+=i*$e,R+=i*tt,q+=i*rt,U+=i*nt,M+=i*ct,D+=i*yt,ge+=i*xt,ke+=i*bt,i=d[14],_e+=i*p,oe+=i*Ue,pe+=i*Ke,ne+=i*ze,ie+=i*Te,ce+=i*Me,X+=i*Ne,I+=i*ot,R+=i*$e,q+=i*tt,U+=i*rt,M+=i*nt,D+=i*ct,ge+=i*yt,ke+=i*xt,Re+=i*bt,i=d[15],oe+=i*p,pe+=i*Ue,ne+=i*Ke,ie+=i*ze,ce+=i*Te,X+=i*Me,I+=i*Ne,R+=i*ot,q+=i*$e,U+=i*tt,M+=i*rt,D+=i*nt,ge+=i*ct,ke+=i*yt,Re+=i*xt,Be+=i*bt,x+=38*pe,m+=38*ne,O+=38*ie,H+=38*ce,fe+=38*X,ee+=38*I,qe+=38*R,se+=38*q,we+=38*U,me+=38*M,Ae+=38*D,Ee+=38*ge,ve+=38*ke,Se+=38*Re,_e+=38*Be,h=1,i=x+h+65535,h=Math.floor(i/65536),x=i-h*65536,i=m+h+65535,h=Math.floor(i/65536),m=i-h*65536,i=O+h+65535,h=Math.floor(i/65536),O=i-h*65536,i=H+h+65535,h=Math.floor(i/65536),H=i-h*65536,i=fe+h+65535,h=Math.floor(i/65536),fe=i-h*65536,i=ee+h+65535,h=Math.floor(i/65536),ee=i-h*65536,i=qe+h+65535,h=Math.floor(i/65536),qe=i-h*65536,i=se+h+65535,h=Math.floor(i/65536),se=i-h*65536,i=we+h+65535,h=Math.floor(i/65536),we=i-h*65536,i=me+h+65535,h=Math.floor(i/65536),me=i-h*65536,i=Ae+h+65535,h=Math.floor(i/65536),Ae=i-h*65536,i=Ee+h+65535,h=Math.floor(i/65536),Ee=i-h*65536,i=ve+h+65535,h=Math.floor(i/65536),ve=i-h*65536,i=Se+h+65535,h=Math.floor(i/65536),Se=i-h*65536,i=_e+h+65535,h=Math.floor(i/65536),_e=i-h*65536,i=oe+h+65535,h=Math.floor(i/65536),oe=i-h*65536,x+=h-1+37*(h-1),h=1,i=x+h+65535,h=Math.floor(i/65536),x=i-h*65536,i=m+h+65535,h=Math.floor(i/65536),m=i-h*65536,i=O+h+65535,h=Math.floor(i/65536),O=i-h*65536,i=H+h+65535,h=Math.floor(i/65536),H=i-h*65536,i=fe+h+65535,h=Math.floor(i/65536),fe=i-h*65536,i=ee+h+65535,h=Math.floor(i/65536),ee=i-h*65536,i=qe+h+65535,h=Math.floor(i/65536),qe=i-h*65536,i=se+h+65535,h=Math.floor(i/65536),se=i-h*65536,i=we+h+65535,h=Math.floor(i/65536),we=i-h*65536,i=me+h+65535,h=Math.floor(i/65536),me=i-h*65536,i=Ae+h+65535,h=Math.floor(i/65536),Ae=i-h*65536,i=Ee+h+65535,h=Math.floor(i/65536),Ee=i-h*65536,i=ve+h+65535,h=Math.floor(i/65536),ve=i-h*65536,i=Se+h+65535,h=Math.floor(i/65536),Se=i-h*65536,i=_e+h+65535,h=Math.floor(i/65536),_e=i-h*65536,i=oe+h+65535,h=Math.floor(i/65536),oe=i-h*65536,x+=h-1+37*(h-1),c[0]=x,c[1]=m,c[2]=O,c[3]=H,c[4]=fe,c[5]=ee,c[6]=qe,c[7]=se,c[8]=we,c[9]=me,c[10]=Ae,c[11]=Ee,c[12]=ve,c[13]=Se,c[14]=_e,c[15]=oe}function he(c,d){Z(c,d,d)}function Ie(c,d){var l=t(),i;for(i=0;i<16;i++)l[i]=d[i];for(i=253;i>=0;i--)he(l,l),i!==2&&i!==4&&Z(l,l,d);for(i=0;i<16;i++)c[i]=l[i]}function Ve(c,d){var l=t(),i;for(i=0;i<16;i++)l[i]=d[i];for(i=250;i>=0;i--)he(l,l),i!==1&&Z(l,l,d);for(i=0;i<16;i++)c[i]=l[i]}function Ge(c,d,l){var i=new Uint8Array(32),h=new Float64Array(80),x,m,O=t(),H=t(),fe=t(),ee=t(),qe=t(),se=t();for(m=0;m<31;m++)i[m]=d[m];for(i[31]=d[31]&127|64,i[0]&=248,G(h,l),m=0;m<16;m++)H[m]=h[m],ee[m]=O[m]=fe[m]=0;for(O[0]=ee[0]=1,m=254;m>=0;--m)x=i[m>>>3]>>>(m&7)&1,ae(O,H,x),ae(fe,ee,x),W(qe,O,fe),$(O,O,fe),W(fe,H,ee),$(H,H,ee),he(ee,qe),he(se,O),Z(O,fe,O),Z(fe,H,qe),W(qe,O,fe),$(O,O,fe),he(H,O),$(fe,ee,se),Z(O,fe,u),W(O,O,ee),Z(fe,fe,O),Z(O,ee,se),Z(ee,H,h),he(H,qe),ae(O,H,x),ae(fe,ee,x);for(m=0;m<16;m++)h[m+16]=O[m],h[m+32]=fe[m],h[m+48]=H[m],h[m+64]=ee[m];var we=h.subarray(32),me=h.subarray(16);return Ie(we,we),Z(me,me,we),S(c,me),0}function Qe(c,d){return Ge(c,d,o)}function lt(c,d){return r(d,32),Qe(c,d)}function It(c,d,l){var i=new Uint8Array(32);return Ge(i,l,d),z(c,s,i,L)}var Mt=Ot,Ar=Bt;function kr(c,d,l,i,h,x){var m=new Uint8Array(32);return It(m,h,x),Mt(c,d,l,i,m)}function bn(c,d,l,i,h,x){var m=new Uint8Array(32);return It(m,h,x),Ar(c,d,l,i,m)}var Vr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function wn(c,d,l,i){for(var h=new Int32Array(16),x=new Int32Array(16),m,O,H,fe,ee,qe,se,we,me,Ae,Ee,ve,Se,_e,oe,pe,ne,ie,ce,X,I,R,q,U,M,D,ge=c[0],ke=c[1],Re=c[2],Be=c[3],p=c[4],Ue=c[5],Ke=c[6],ze=c[7],Te=d[0],Me=d[1],Ne=d[2],ot=d[3],$e=d[4],tt=d[5],rt=d[6],nt=d[7],ct=0;i>=128;){for(ce=0;ce<16;ce++)X=8*ce+ct,h[ce]=l[X+0]<<24|l[X+1]<<16|l[X+2]<<8|l[X+3],x[ce]=l[X+4]<<24|l[X+5]<<16|l[X+6]<<8|l[X+7];for(ce=0;ce<80;ce++)if(m=ge,O=ke,H=Re,fe=Be,ee=p,qe=Ue,se=Ke,we=ze,me=Te,Ae=Me,Ee=Ne,ve=ot,Se=$e,_e=tt,oe=rt,pe=nt,I=ze,R=nt,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=(p>>>14|$e<<18)^(p>>>18|$e<<14)^($e>>>9|p<<23),R=($e>>>14|p<<18)^($e>>>18|p<<14)^(p>>>9|$e<<23),q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,I=p&Ue^~p&Ke,R=$e&tt^~$e&rt,q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,I=Vr[ce*2],R=Vr[ce*2+1],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,I=h[ce%16],R=x[ce%16],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,ne=M&65535|D<<16,ie=q&65535|U<<16,I=ne,R=ie,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=(ge>>>28|Te<<4)^(Te>>>2|ge<<30)^(Te>>>7|ge<<25),R=(Te>>>28|ge<<4)^(ge>>>2|Te<<30)^(ge>>>7|Te<<25),q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,I=ge&ke^ge&Re^ke&Re,R=Te&Me^Te&Ne^Me&Ne,q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,we=M&65535|D<<16,pe=q&65535|U<<16,I=fe,R=ve,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=ne,R=ie,q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,fe=M&65535|D<<16,ve=q&65535|U<<16,ke=m,Re=O,Be=H,p=fe,Ue=ee,Ke=qe,ze=se,ge=we,Me=me,Ne=Ae,ot=Ee,$e=ve,tt=Se,rt=_e,nt=oe,Te=pe,ce%16===15)for(X=0;X<16;X++)I=h[X],R=x[X],q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=h[(X+9)%16],R=x[(X+9)%16],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,ne=h[(X+1)%16],ie=x[(X+1)%16],I=(ne>>>1|ie<<31)^(ne>>>8|ie<<24)^ne>>>7,R=(ie>>>1|ne<<31)^(ie>>>8|ne<<24)^(ie>>>7|ne<<25),q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,ne=h[(X+14)%16],ie=x[(X+14)%16],I=(ne>>>19|ie<<13)^(ie>>>29|ne<<3)^ne>>>6,R=(ie>>>19|ne<<13)^(ne>>>29|ie<<3)^(ie>>>6|ne<<26),q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,h[X]=M&65535|D<<16,x[X]=q&65535|U<<16;I=ge,R=Te,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=c[0],R=d[0],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,c[0]=ge=M&65535|D<<16,d[0]=Te=q&65535|U<<16,I=ke,R=Me,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=c[1],R=d[1],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,c[1]=ke=M&65535|D<<16,d[1]=Me=q&65535|U<<16,I=Re,R=Ne,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=c[2],R=d[2],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,c[2]=Re=M&65535|D<<16,d[2]=Ne=q&65535|U<<16,I=Be,R=ot,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=c[3],R=d[3],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,c[3]=Be=M&65535|D<<16,d[3]=ot=q&65535|U<<16,I=p,R=$e,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=c[4],R=d[4],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,c[4]=p=M&65535|D<<16,d[4]=$e=q&65535|U<<16,I=Ue,R=tt,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=c[5],R=d[5],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,c[5]=Ue=M&65535|D<<16,d[5]=tt=q&65535|U<<16,I=Ke,R=rt,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=c[6],R=d[6],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,c[6]=Ke=M&65535|D<<16,d[6]=rt=q&65535|U<<16,I=ze,R=nt,q=R&65535,U=R>>>16,M=I&65535,D=I>>>16,I=c[7],R=d[7],q+=R&65535,U+=R>>>16,M+=I&65535,D+=I>>>16,U+=q>>>16,M+=U>>>16,D+=M>>>16,c[7]=ze=M&65535|D<<16,d[7]=nt=q&65535|U<<16,ct+=128,i-=128}return i}function Xt(c,d,l){var i=new Int32Array(8),h=new Int32Array(8),x=new Uint8Array(256),m,O=l;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,h[0]=4089235720,h[1]=2227873595,h[2]=4271175723,h[3]=1595750129,h[4]=2917565137,h[5]=725511199,h[6]=4215389547,h[7]=327033209,wn(i,h,d,l),l%=128,m=0;m<l;m++)x[m]=d[O-l+m];for(x[l]=128,l=256-128*(l<112?1:0),x[l-9]=0,_(x,l-8,O/536870912|0,O<<3),wn(i,h,x,l),m=0;m<8;m++)_(c,8*m,i[m],h[m]);return 0}function Br(c,d){var l=t(),i=t(),h=t(),x=t(),m=t(),O=t(),H=t(),fe=t(),ee=t();$(l,c[1],c[0]),$(ee,d[1],d[0]),Z(l,l,ee),W(i,c[0],c[1]),W(ee,d[0],d[1]),Z(i,i,ee),Z(h,c[3],d[3]),Z(h,h,g),Z(x,c[2],d[2]),W(x,x,x),$(m,i,l),$(O,x,h),W(H,x,h),W(fe,i,l),Z(c[0],m,O),Z(c[1],fe,H),Z(c[2],H,O),Z(c[3],m,fe)}function mn(c,d,l){var i;for(i=0;i<4;i++)ae(c[i],d[i],l)}function pr(c,d){var l=t(),i=t(),h=t();Ie(h,d[2]),Z(l,d[0],h),Z(i,d[1],h),S(c,i),c[31]^=P(l)<<7}function Ir(c,d,l){var i,h;for(ut(c[0],a),ut(c[1],f),ut(c[2],f),ut(c[3],a),h=255;h>=0;--h)i=l[h/8|0]>>(h&7)&1,mn(c,d,i),Br(d,c),Br(c,c),mn(c,d,i)}function sr(c,d){var l=[t(),t(),t(),t()];ut(l[0],E),ut(l[1],C),ut(l[2],f),Z(l[3],E,C),Ir(c,l,d)}function Rr(c,d,l){var i=new Uint8Array(64),h=[t(),t(),t(),t()],x;for(l||r(d,32),Xt(i,d,32),i[0]&=248,i[31]&=127,i[31]|=64,sr(h,i),pr(c,h),x=0;x<32;x++)d[x+32]=c[x];return 0}var gr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Tr(c,d){var l,i,h,x;for(i=63;i>=32;--i){for(l=0,h=i-32,x=i-12;h<x;++h)d[h]+=l-16*d[i]*gr[h-(i-32)],l=Math.floor((d[h]+128)/256),d[h]-=l*256;d[h]+=l,d[i]=0}for(l=0,h=0;h<32;h++)d[h]+=l-(d[31]>>4)*gr[h],l=d[h]>>8,d[h]&=255;for(h=0;h<32;h++)d[h]-=l*gr[h];for(i=0;i<32;i++)d[i+1]+=d[i]>>8,c[i]=d[i]&255}function Cr(c){var d=new Float64Array(64),l;for(l=0;l<64;l++)d[l]=c[l];for(l=0;l<64;l++)c[l]=0;Tr(c,d)}function Yr(c,d,l,i){var h=new Uint8Array(64),x=new Uint8Array(64),m=new Uint8Array(64),O,H,fe=new Float64Array(64),ee=[t(),t(),t(),t()];Xt(h,i,32),h[0]&=248,h[31]&=127,h[31]|=64;var qe=l+64;for(O=0;O<l;O++)c[64+O]=d[O];for(O=0;O<32;O++)c[32+O]=h[32+O];for(Xt(m,c.subarray(32),l+32),Cr(m),sr(ee,m),pr(c,ee),O=32;O<64;O++)c[O]=i[O];for(Xt(x,c,l+64),Cr(x),O=0;O<64;O++)fe[O]=0;for(O=0;O<32;O++)fe[O]=m[O];for(O=0;O<32;O++)for(H=0;H<32;H++)fe[O+H]+=x[O]*h[H];return Tr(c.subarray(32),fe),qe}function $n(c,d){var l=t(),i=t(),h=t(),x=t(),m=t(),O=t(),H=t();return ut(c[2],f),G(c[1],d),he(h,c[1]),Z(x,h,y),$(h,h,c[2]),W(x,c[2],x),he(m,x),he(O,m),Z(H,O,m),Z(l,H,h),Z(l,l,x),Ve(l,l),Z(l,l,h),Z(l,l,x),Z(l,l,x),Z(c[0],l,x),he(i,c[0]),Z(i,i,x),B(i,h)&&Z(c[0],c[0],w),he(i,c[0]),Z(i,i,x),B(i,h)?-1:(P(c[0])===d[31]>>7&&$(c[0],a,c[0]),Z(c[3],c[0],c[1]),0)}function Zr(c,d,l,i){var h,x=new Uint8Array(32),m=new Uint8Array(64),O=[t(),t(),t(),t()],H=[t(),t(),t(),t()];if(l<64||$n(H,i))return-1;for(h=0;h<l;h++)c[h]=d[h];for(h=0;h<32;h++)c[h+32]=i[h];if(Xt(m,c,l),Cr(m),Ir(O,H,m),sr(H,d.subarray(32)),Br(O,H),pr(x,O),l-=64,F(d,0,x,0)){for(h=0;h<l;h++)c[h]=0;return-1}for(h=0;h<l;h++)c[h]=d[h+64];return l}var Jr=32,Pr=24,Xr=32,Lr=16,Qr=32,vn=32,en=32,tn=32,Wn=32,no=Pr,oa=Xr,ia=Lr,Qt=64,yr=32,Ur=64,Gn=32,Vn=64;e.lowlevel={crypto_core_hsalsa20:z,crypto_stream_xor:De,crypto_stream:de,crypto_stream_salsa20_xor:re,crypto_stream_salsa20:V,crypto_onetimeauth:at,crypto_onetimeauth_verify:ft,crypto_verify_16:b,crypto_verify_32:F,crypto_secretbox:Ot,crypto_secretbox_open:Bt,crypto_scalarmult:Ge,crypto_scalarmult_base:Qe,crypto_box_beforenm:It,crypto_box_afternm:Mt,crypto_box:kr,crypto_box_open:bn,crypto_box_keypair:lt,crypto_hash:Xt,crypto_sign:Yr,crypto_sign_keypair:Rr,crypto_sign_open:Zr,crypto_secretbox_KEYBYTES:Jr,crypto_secretbox_NONCEBYTES:Pr,crypto_secretbox_ZEROBYTES:Xr,crypto_secretbox_BOXZEROBYTES:Lr,crypto_scalarmult_BYTES:Qr,crypto_scalarmult_SCALARBYTES:vn,crypto_box_PUBLICKEYBYTES:en,crypto_box_SECRETKEYBYTES:tn,crypto_box_BEFORENMBYTES:Wn,crypto_box_NONCEBYTES:no,crypto_box_ZEROBYTES:oa,crypto_box_BOXZEROBYTES:ia,crypto_sign_BYTES:Qt,crypto_sign_PUBLICKEYBYTES:yr,crypto_sign_SECRETKEYBYTES:Ur,crypto_sign_SEEDBYTES:Gn,crypto_hash_BYTES:Vn,gf:t,D:y,L:gr,pack:pr,pack25519:S,unpack25519:G,M:Z,A:W,S:he,Z:$,pow2523:Ve,add:Br,set25519:ut,modL:Tr,scalarmult:Ir,scalarbase:sr};function so(c,d){if(c.length!==Jr)throw new Error("bad key size");if(d.length!==Pr)throw new Error("bad nonce size")}function aa(c,d){if(c.length!==en)throw new Error("bad public key size");if(d.length!==tn)throw new Error("bad secret key size")}function Rt(){for(var c=0;c<arguments.length;c++)if(!(arguments[c]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function oo(c){for(var d=0;d<c.length;d++)c[d]=0}e.randomBytes=function(c){var d=new Uint8Array(c);return r(d,c),d},e.secretbox=function(c,d,l){Rt(c,d,l),so(l,d);for(var i=new Uint8Array(Xr+c.length),h=new Uint8Array(i.length),x=0;x<c.length;x++)i[x+Xr]=c[x];return Ot(h,i,i.length,d,l),h.subarray(Lr)},e.secretbox.open=function(c,d,l){Rt(c,d,l),so(l,d);for(var i=new Uint8Array(Lr+c.length),h=new Uint8Array(i.length),x=0;x<c.length;x++)i[x+Lr]=c[x];return i.length<32||Bt(h,i,i.length,d,l)!==0?null:h.subarray(Xr)},e.secretbox.keyLength=Jr,e.secretbox.nonceLength=Pr,e.secretbox.overheadLength=Lr,e.scalarMult=function(c,d){if(Rt(c,d),c.length!==vn)throw new Error("bad n size");if(d.length!==Qr)throw new Error("bad p size");var l=new Uint8Array(Qr);return Ge(l,c,d),l},e.scalarMult.base=function(c){if(Rt(c),c.length!==vn)throw new Error("bad n size");var d=new Uint8Array(Qr);return Qe(d,c),d},e.scalarMult.scalarLength=vn,e.scalarMult.groupElementLength=Qr,e.box=function(c,d,l,i){var h=e.box.before(l,i);return e.secretbox(c,d,h)},e.box.before=function(c,d){Rt(c,d),aa(c,d);var l=new Uint8Array(Wn);return It(l,c,d),l},e.box.after=e.secretbox,e.box.open=function(c,d,l,i){var h=e.box.before(l,i);return e.secretbox.open(c,d,h)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var c=new Uint8Array(en),d=new Uint8Array(tn);return lt(c,d),{publicKey:c,secretKey:d}},e.box.keyPair.fromSecretKey=function(c){if(Rt(c),c.length!==tn)throw new Error("bad secret key size");var d=new Uint8Array(en);return Qe(d,c),{publicKey:d,secretKey:new Uint8Array(c)}},e.box.publicKeyLength=en,e.box.secretKeyLength=tn,e.box.sharedKeyLength=Wn,e.box.nonceLength=no,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(c,d){if(Rt(c,d),d.length!==Ur)throw new Error("bad secret key size");var l=new Uint8Array(Qt+c.length);return Yr(l,c,c.length,d),l},e.sign.open=function(c,d){if(Rt(c,d),d.length!==yr)throw new Error("bad public key size");var l=new Uint8Array(c.length),i=Zr(l,c,c.length,d);if(i<0)return null;for(var h=new Uint8Array(i),x=0;x<h.length;x++)h[x]=l[x];return h},e.sign.detached=function(c,d){for(var l=e.sign(c,d),i=new Uint8Array(Qt),h=0;h<i.length;h++)i[h]=l[h];return i},e.sign.detached.verify=function(c,d,l){if(Rt(c,d,l),d.length!==Qt)throw new Error("bad signature size");if(l.length!==yr)throw new Error("bad public key size");var i=new Uint8Array(Qt+c.length),h=new Uint8Array(Qt+c.length),x;for(x=0;x<Qt;x++)i[x]=d[x];for(x=0;x<c.length;x++)i[x+Qt]=c[x];return Zr(h,i,i.length,l)>=0},e.sign.keyPair=function(){var c=new Uint8Array(yr),d=new Uint8Array(Ur);return Rr(c,d),{publicKey:c,secretKey:d}},e.sign.keyPair.fromSecretKey=function(c){if(Rt(c),c.length!==Ur)throw new Error("bad secret key size");for(var d=new Uint8Array(yr),l=0;l<d.length;l++)d[l]=c[32+l];return{publicKey:d,secretKey:new Uint8Array(c)}},e.sign.keyPair.fromSeed=function(c){if(Rt(c),c.length!==Gn)throw new Error("bad seed size");for(var d=new Uint8Array(yr),l=new Uint8Array(Ur),i=0;i<32;i++)l[i]=c[i];return Rr(d,l,!0),{publicKey:d,secretKey:l}},e.sign.publicKeyLength=yr,e.sign.secretKeyLength=Ur,e.sign.seedLength=Gn,e.sign.signatureLength=Qt,e.hash=function(c){Rt(c);var d=new Uint8Array(Vn);return Xt(d,c,c.length),d},e.hash.hashLength=Vn,e.verify=function(c,d){return Rt(c,d),c.length===0||d.length===0||c.length!==d.length?!1:k(c,0,d,0,c.length)===0},e.setPRNG=function(c){r=c},function(){var c=typeof self<"u"?self.crypto||self.msCrypto:null;if(c&&c.getRandomValues){var d=65536;e.setPRNG(function(l,i){var h,x=new Uint8Array(i);for(h=0;h<i;h+=d)c.getRandomValues(x.subarray(h,h+Math.min(i-h,d)));for(h=0;h<i;h++)l[h]=x[h];oo(x)})}else typeof _a<"u"&&(c=Sa,c&&c.randomBytes&&e.setPRNG(function(l,i){var h,x=c.randomBytes(i);for(h=0;h<i;h++)l[h]=x[h];oo(x)}))}()})(n.exports?n.exports:self.nacl=self.nacl||{})})(Qi);var nl=Qi.exports;const ea=Hr(nl),xr=ea.lowlevel;function sl(n){let e;typeof n=="string"?e=Buffer.from(n,"hex"):e=n;const t=new Uint8Array(64),r=[xr.gf(),xr.gf(),xr.gf(),xr.gf()],s=new Uint8Array([...new Uint8Array(e),...new Uint8Array(32)]),o=new Uint8Array(32);xr.crypto_hash(t,s,32),t[0]&=248,t[31]&=127,t[31]|=64,xr.scalarbase(r,t),xr.pack(o,r);for(let a=0;a<32;a+=1)s[a+32]=o[a];return{sk:Buffer.from(s),pk:Buffer.from(o)}}function ol(n){return(e,t,r,s)=>e.method==="solana_chainId"?(t.result=n,s()):r()}function il(n){return(e,t,r,s)=>e.method==="solana_provider_config"?(t.result=n,s()):r()}function ta(n){const{chainId:e}=n;return ln([ol(e),il(n)])}function al(n){const{rpcTarget:e}=n,t=Aa({rpcTarget:e});return{networkMiddleware:ln([ta(n),t]),fetchMiddleware:t}}function cl(n){let{getAccounts:e}=n;return On(async(t,r,s)=>{const{method:o}=t;if(o!=="getAccounts")return s();if(!e)throw new Error("WalletMiddleware - opts.getAccounts not provided");const a=await e(t);r.result=a})}function fl(n){let{requestAccounts:e}=n;return On(async(t,r,s)=>{const{method:o}=t;if(o!=="requestAccounts")return s();if(!e)throw new Error("WalletMiddleware - opts.requestAccounts not provided");const a=await e(t);r.result=a})}function $t(n,e){return On(async(t,r,s)=>{const{method:o}=t;if(o!==n)return s();if(!e)throw new Error(`WalletMiddleware - ${n} not provided`);const a=await e(t);r.result=a})}function eo(n){const{getAccounts:e,requestAccounts:t,signTransaction:r,signAndSendTransaction:s,signAllTransactions:o,signMessage:a,getPrivateKey:f,getSecretKey:u}=n;return ln([fl({requestAccounts:t}),cl({getAccounts:e}),$t("signTransaction",r),$t("signAndSendTransaction",s),$t("signAllTransactions",o),$t("signMessage",a),$t("solanaPrivateKey",f),$t("private_key",f),$t("solanaSecretKey",u)])}function ul(n){let{addNewChainConfig:e,switchSolanaChain:t}=n;return ln([$t("addSolanaChain",e),$t("switchSolanaChain",t)])}function ll(n){let{updatePrivatekey:e}=n;return ln([$t("updateAccount",e)])}class to extends Is{constructor(e){let{config:t,state:r}=e;super({config:{chainConfig:ur(ur({},t.chainConfig),{},{chainNamespace:Bn.SOLANA})},state:r})}async switchChain(e){throw Ea.unsupportedOperation("Chain switching is not supported by this adapter")}async setupProvider(e){const t=new Ts,r=this.getProviderHandlers(e),s=eo(r);t.push(s);const o=ta(this.config.chainConfig);t.push(o);const a=this.getInjectedProviderProxy(e);a&&t.push(a);const f=Cs(t);this.updateProviderEngineProxy(f),await this.lookupNetwork()}async lookupNetwork(){const{chainConfig:e}=this.config;return this.update({chainId:e.chainId}),e.chainId||""}getInjectedProviderProxy(e){}}const ra=n=>({requestAccounts:async()=>n.publicKey?[Ht.encode(n.publicKey.toBytes())]:[],getAccounts:async()=>n.publicKey?[Ht.encode(n.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw Fe.rpcErrors.methodNotSupported()},getSecretKey:async()=>{throw Fe.rpcErrors.methodNotSupported()},signTransaction:async t=>await n.signTransaction(t.params.message),signMessage:async t=>(await n.signMessage(t.params.message,t.params.display)).signature,signAllTransactions:async t=>{var r,s;if(!((r=t.params)!==null&&r!==void 0&&r.message)||!((s=t.params)!==null&&s!==void 0&&s.message.length))throw Fe.rpcErrors.invalidParams("message");return await n.signAllTransactions(t.params.message)},signAndSendTransaction:async t=>({signature:(await n.signAndSendTransaction(t.params.message)).signature})});function na(n){return On(async(e,t,r)=>{const s=await n.request(e);t.result=s})}class dl extends to{getProviderHandlers(e){return ra(e)}getInjectedProviderProxy(e){return na(e)}}const ms=n=>n.version!==void 0||n instanceof Kr,hl=(n,e)=>({requestAccounts:async()=>{const{data:r}=await n.connect();return[r.publicKey]},getAccounts:async()=>{const{data:r}=await n.connect();return[r.publicKey]},getPrivateKey:async()=>{throw Fe.rpcErrors.methodNotSupported()},getSecretKey:async()=>{throw Fe.rpcErrors.methodNotSupported()},signTransaction:async r=>{const s=r.params.message;if(!s)throw Fe.rpcErrors.invalidRequest({message:"Invalid transaction message"});const o=ms(s)?s.message.serialize():s.serializeMessage(),{data:a}=await n.signTransaction(Ht.encode(o));if(!a.publicKey||!a.signature)throw new Error("Invalid signature from slope wallet");const f=new xe(a.publicKey),u=Ht.decode(a.signature);return s.addSignature(f,Buffer.from(u)),s},signMessage:async r=>{const s=await n.signMessage(r.params.message);return Ht.decode(s.data.signature)},signAndSendTransaction:async r=>{const s=e();if(!s)throw Fe.providerErrors.custom({message:"Provider is not initialized",code:4902});const o=r.params.message;if(!o)throw Fe.rpcErrors.invalidRequest({message:"Invalid transaction message"});const a=ms(o)?o.message.serialize():o.serializeMessage(),{data:f}=await n.signTransaction(Ht.encode(a));if(!f.publicKey||!f.signature)throw new Error("Invalid signature from slope wallet");const u=new xe(f.publicKey),y=Ht.decode(f.signature);o.addSignature(u,Buffer.from(y));const g=await s.request({method:"solana_provider_config"});return{signature:await new Zi(g.rpcTarget).sendRawTransaction(o.serialize())}},signAllTransactions:async r=>{var s,o,a;if(!((s=r.params)!==null&&s!==void 0&&s.message)||!((o=r.params)!==null&&o!==void 0&&o.message.length))throw Fe.rpcErrors.invalidParams("message");const f=r.params.message,{length:u}=f,y=[];for(let w=0;w<u;w++){const _=f[w],k=ms(_)?_.message.serialize():_.serializeMessage();y.push(Ht.encode(k))}const{msg:g,data:E}=await n.signAllTransactions(y);if(!E.publicKey||((a=E.signatures)===null||a===void 0?void 0:a.length)!==u)throw new Error(g);const C=new xe(E.publicKey);for(let w=0;w<u;w++){const _=Ht.decode(E.signatures[w]);f[w].addSignature(C,Buffer.from(_))}return f}});class pl extends to{getProviderHandlers(e){return hl(e,this.getProviderEngineProxy.bind(this))}}const gl=(n,e)=>{const t=ra(n);return t.signAndSendTransaction=async r=>{const s=e();if(!s)throw Fe.providerErrors.custom({message:"Provider is not initialized",code:4902});const o=await n.signTransaction(r.params.message),a=await s.request({method:"solana_provider_config"});return{signature:await new Zi(a.rpcTarget).sendRawTransaction(o.serialize())}},t.signMessage=async r=>await n.signMessage(r.params.message,r.params.display),t};class yl extends to{getProviderHandlers(e){return gl(e,this.getProviderEngineProxy.bind(this))}}const xl=n=>({requestAccounts:async()=>await n.request({method:"solana_requestAccounts",params:{}}),getAccounts:async()=>await n.request({method:"solana_requestAccounts",params:{}}),getPrivateKey:async()=>{throw Fe.rpcErrors.methodNotSupported()},getSecretKey:async()=>{throw Fe.rpcErrors.methodNotSupported()},signMessage:async t=>{var r;if(!((r=t.params)!==null&&r!==void 0&&r.message))throw Fe.rpcErrors.invalidParams("message");return await n.signMessage(t.params.message)},signTransaction:async t=>{var r;if(!((r=t.params)!==null&&r!==void 0&&r.message))throw Fe.rpcErrors.invalidParams("message");const s=t.params.message;return await n.signTransaction(s)},signAndSendTransaction:async t=>{var r;if(!((r=t.params)!==null&&r!==void 0&&r.message))throw Fe.rpcErrors.invalidParams("message");const s=t.params.message;return{signature:await n.sendTransaction(s)}},signAllTransactions:async t=>{var r,s;if(!((r=t.params)!==null&&r!==void 0&&r.message)||!((s=t.params)!==null&&s!==void 0&&s.message.length))throw Fe.rpcErrors.invalidParams("message");const o=t.params.message;return await n.signAllTransactions(o)}});class bl extends Is{constructor(e){let{config:t,state:r}=e;super({config:{chainConfig:ur(ur({},t.chainConfig),{},{chainNamespace:Bn.SOLANA})},state:r})}async switchChain(e){await this.provider.request({method:"switchSolanaChain",params:[{chainId:e.chainId}]})}async addChain(e){super.addChain(e),await this.provider.request({method:"addNewChainConfig",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorer],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18}}]})}async setupProvider(e){this.handleInjectedProviderUpdate(e),await this.setupEngine(e)}async lookupNetwork(){if(!this.provider)throw Fe.providerErrors.custom({message:"Torus solana provider is not initialized",code:4902});const{chainId:e}=this.config.chainConfig,t=await this.provider.request({method:"solana_chainId"}),r=uo(t.toString())?t:`0x${parseInt(t,10).toString(16)}`;if(e!==r)throw Rs.rpcConnectionError(`Invalid network, net_version is: ${r}, expected: ${e}`);return this.update({chainId:r}),this.emit("connect",{chainId:this.state.chainId}),this.emit("chainChanged",this.state.chainId),this.state.chainId}async setupEngine(e){const t=xl(e),r=eo(t),s=na(e),o=new Ts;o.push(r),o.push(s);const a=Cs(o);this.updateProviderEngineProxy(a),await this.lookupNetwork()}async handleInjectedProviderUpdate(e){e.on("accountsChanged",async t=>{this.emit("accountsChanged",t)}),e.on("chainChanged",async t=>{const r=uo(t)?t:`0x${parseInt(t,10).toString(16)}`;this.configure({chainConfig:ur(ur({},this.config.chainConfig),{},{chainId:r})}),await this.setupProvider(e)})}}async function wl(n){let{privKey:e,getProviderEngineProxy:t}=n;const r=()=>on.fromSecretKey(Buffer.from(e,"hex"));if(typeof e!="string")throw Rs.invalidParams("privKey must be a string");const s=r();return{requestAccounts:async()=>[s.publicKey.toBase58()],getAccounts:async()=>[s.publicKey.toBase58()],getPrivateKey:async()=>e,getSecretKey:async()=>Ht.encode(s.secretKey),signTransaction:async a=>{var f;if(!((f=a.params)!==null&&f!==void 0&&f.message))throw Fe.rpcErrors.invalidParams("message");const u=a.params.message;return u.version!==void 0||u instanceof Kr?u.sign([s]):u.partialSign(s),u},signMessage:async a=>{var f;if(!((f=a.params)!==null&&f!==void 0&&f.message))throw Fe.rpcErrors.invalidParams("message");return ea.sign.detached(a.params.message,s.secretKey)},signAndSendTransaction:async a=>{var f;if(!((f=a.params)!==null&&f!==void 0&&f.message))throw Fe.rpcErrors.invalidParams("message");const u=t();if(!u)throw Fe.providerErrors.custom({message:"Provider is not initialized",code:4902});const y=a.params.message;return y.version!==void 0||y instanceof Kr?y.sign([s]):y.partialSign(s),{signature:await u.request({method:"sendTransaction",params:[Buffer.from(y.serialize()).toString("base64"),{encoding:"base64",preflightCommitment:"confirmed"}]})}},signAllTransactions:async a=>{var f,u,y;if(!((f=a.params)!==null&&f!==void 0&&f.message)||!((u=a.params)!==null&&u!==void 0&&u.message.length))throw Fe.rpcErrors.invalidParams("message");const g=(y=a.params)===null||y===void 0?void 0:y.message;for(const E of g||[]){const C=E;C.version!==void 0||C instanceof Kr?C.sign([s]):C.partialSign(s)}return g}}}var sa;class ro extends Is{constructor(e){let{config:t,state:r}=e;super({config:{chainConfig:ur(ur({},t.chainConfig),{},{chainNamespace:Bn.SOLANA})},state:r})}async enable(){if(!this.state.privateKey)throw Fe.providerErrors.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}getEd25519Key(e){return sl(e).sk.toString("hex").padStart(128,"0")}async setupProvider(e){const t=await wl({privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),r=eo(t),s=new Ts,{networkMiddleware:o}=al(this.config.chainConfig);s.push(this.getChainSwitchMiddleware()),s.push(this.getAccountMiddleware()),s.push(r),s.push(o);const a=Cs(s);this.updateProviderEngineProxy(a),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw Fe.providerErrors.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"solanaPrivateKey"})!==e.privateKey&&(await this.setupProvider(e.privateKey),this.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"requestAccounts"})}))}async switchChain(e){if(!this._providerEngineProxy)throw Fe.providerErrors.custom({message:"Provider is not initialized",code:4902});const t=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:t});const r=await this._providerEngineProxy.request({method:"solanaPrivateKey"});await this.setupProvider(r)}async lookupNetwork(){if(!this._providerEngineProxy)throw Fe.providerErrors.custom({message:"Provider is not initialized",code:4902});const e=await this._providerEngineProxy.request({method:"getHealth",params:[]}),{chainConfig:t}=this.config;if(e!=="ok")throw Rs.rpcConnectionError(`Failed to lookup network for following rpc target: ${t.rpcTarget}`);return this.update({chainId:t.chainId}),this.state.chainId!==t.chainId&&(this.emit("chainChanged",this.state.chainId),this.emit("connect",{chainId:this.state.chainId})),this.state.chainId}getChainSwitchMiddleware(){return ul({addNewChainConfig:async r=>{if(!r.params)throw Fe.rpcErrors.invalidParams("Missing request params");const{chainId:s,chainName:o,rpcUrls:a,blockExplorerUrls:f,nativeCurrency:u}=r.params;if(!s)throw Fe.rpcErrors.invalidParams("Missing chainId in chainParams");if(!a||a.length===0)throw Fe.rpcErrors.invalidParams("Missing rpcUrls in chainParams");if(!u)throw Fe.rpcErrors.invalidParams("Missing nativeCurrency in chainParams");this.addChain({chainNamespace:Bn.SOLANA,chainId:s,ticker:(u==null?void 0:u.symbol)||"SOL",tickerName:(u==null?void 0:u.name)||"Solana",displayName:o,rpcTarget:a[0],blockExplorer:(f==null?void 0:f[0])||"",decimals:(u==null?void 0:u.decimals)||9})},switchSolanaChain:async r=>{if(!r.params)throw Fe.rpcErrors.invalidParams("Missing request params");if(!r.params.chainId)throw Fe.rpcErrors.invalidParams("Missing chainId");await this.switchChain(r.params)}})}getAccountMiddleware(){return ll({updatePrivatekey:async t=>{if(!t.params)throw Fe.rpcErrors.invalidParams("Missing request params");if(!t.params.privateKey)throw Fe.rpcErrors.invalidParams("Missing privateKey");const{privateKey:r}=t.params;await this.updateAccount({privateKey:r})}})}}sa=ro;$o(ro,"getProviderInstance",async n=>{const e=new sa({config:{chainConfig:n.chainConfig}});return await e.setupProvider(n.privKey),e});class ml{constructor(e){$o(this,"provider",void 0),this.provider=e}async requestAccounts(){return await this.provider.request({method:"requestAccounts"})}async signAndSendTransaction(e){const{signature:t}=await this.provider.request({method:"signAndSendTransaction",params:{message:e}});return{signature:t}}async signTransaction(e){return await this.provider.request({method:"signTransaction",params:{message:e}})}async signAllTransactions(e){return await this.provider.request({method:"signAllTransactions",params:{message:e}})}async signMessage(e){return await this.provider.request({method:"signMessage",params:{message:e}})}async request(e){return await this.provider.request(e)}}const El=Object.freeze(Object.defineProperty({__proto__:null,PhantomInjectedProvider:dl,SlopeInjectedProxyProvider:pl,SolanaPrivateKeyProvider:ro,SolanaWallet:ml,SolflareInjectedProvider:yl,TorusInjectedProvider:bl},Symbol.toStringTag,{value:"Module"}));export{xe as P,bl as T,dl as a,El as s};
